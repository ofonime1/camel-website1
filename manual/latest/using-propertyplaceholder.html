<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Using PropertyPlaceholder - Apache Camel</title> <link rel="canonical" href="https://camel.apache.org/manual/latest/using-propertyplaceholder.html"> <meta name="generator" content="Antora 2.1.0"> <link rel="stylesheet" href="../../_/css/site-7d9877dbe0.css"> <meta name="application-name" content="Apache Camel"> <link rel="manifest" href="../../site.webmanifest"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../.."><span>Apache Camel</span></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item" href="../../news/">News</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Projects</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../projects/camel-k/">Camel K</a> <a class="navbar-item" href="../../projects/camel-quarkus/">Camel Quarkus</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Documentation</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../docs/getting-started/">Getting started</a> <a class="navbar-item" href="../../manual/latest/">User manual</a> <a class="navbar-item" href="../../components/latest/">Component reference</a> <a class="navbar-item" href="../../camel-k/latest/">Camel K</a> <a class="navbar-item" href="../../camel-quarkus/latest/">Camel Quarkus</a> <a class="navbar-item" href="../../manual/latest/enterprise-integration-patterns.html">Enterprise Integration Patterns</a> <a class="navbar-item" href="../../manual/latest/camel-3-migration-guide.html">Camel 3 Migration Guide</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a> <a class="navbar-item" href="../../community/user-stories/">User stories</a> <a class="navbar-item" href="../../community/articles/">Articles</a> <a class="navbar-item" href="../../community/books/">Books</a> <a class="navbar-item" href="../../community/team/">Team</a> <a class="navbar-item" href="../../community/camel-extra/">Camel extra</a> </div> </div> <a class="navbar-item" href="../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">About</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event.html">Apache events</a> <a class="navbar-item" href="https://www.apache.org/licenses/">License</a> <a class="navbar-item" href="../../security/">Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a> </div> </div> </div> </div> <div class="navbar-tools"> <a href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#github"/></svg></a> <a href="https://gitter.im/apache/apache-camel" title="Chat on Gitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#gitter"/></svg></a> <a href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#twitter"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <div class="body"> <div class="nav-container" data-component="manual" data-version="latest"> <aside class="nav"> <div class="panels"> <div class="nav-panel-menu is-active" data-panel="menu"> <nav class="nav-menu"> <h3 class="title"><a href="index.html">User manual</a></h3> <ul class="nav-list"> <li class="nav-item" data-depth="0"> <ul class="nav-list"> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="getting-started.html">Getting started</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="book-getting-started.html">Getting Started with Apache Camel</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="what-are-the-dependencies.html">What are the dependencies?</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="architecture.html">Architecture</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="async.html">Async</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="asynchronous-routing-engine.html">Asynchronous Routing Engine</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="backlogdebugger.html">Backlog debugger</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="bam.html">Business Activity Monitoring</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="batch-consumer.html">Batch Consumer</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="browsable-endpoint.html">BrowsableEndpoint</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camel-core.html">Core</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="camelcontext.html">Context</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="endpoint.html">Endpoints</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="cep.html">Complex Event Processing</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="component.html">Component</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="debugger.html">Debugger</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="delay-interceptor.html">Delay interceptor</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="dependency-injection.html">Dependency Injection</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="dozer-type-conversion.html">Dozer Type Conversion</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="bean-integration.html">Bean Integration</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="bean-binding.html">Bean Binding</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="parameter-binding-annotations.html">Parameter Binding Annotations</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="pojo-producing.html">POJO Producing</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="pojo-consuming.html">POJO Consuming</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="error-handler.html">Error Handler</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="exchange.html">Message Exchange</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="exchange-pattern.html">Exchange Pattern</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="using-exchange-pattern-annotations.html">Using Exchange pattern annotations</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="expression.html">Expressions</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="content-enricher.html">Content Enrichment</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="injector.html">Injector</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="intercept.html">Intercept</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="inversion-of-control-with-smart-defaults.html">Inversion Of Control With Smart Defaults</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="jmx.html">JMX</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="lifecycle.html">Camel Lifecycle</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="oncompletion.html">OnCompletion</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="predicate.html">Predicates</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="registry.html">Registry</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="route-builder.html">RouteBuilder</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="routes.html">Routes</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="transformer.html">Transformer</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="validator.html">Validator</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="spring-remoting.html">Spring Remoting</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="hiding-middleware.html">Hidding Middleware</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <span class="nav-text">Domain Specific Languages</span> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="dsl.html">Camel Domain Specific Language</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="java-dsl.html">Java DSL</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="spring.html">Spring support</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="using-osgi-blueprint-with-camel.html">Using OSGi blueprint with Camel</a> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <span class="nav-text">Supported expression languages</span> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="constant-language.html">Constant Language</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="exchangeProperty-language.html">ExchangeProperty Language</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="file-language.html">File Language</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="header-language.html">Header Language</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="ref-language.html">Ref Language</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="simple-language.html">Simple Language</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="tokenize-language.html">Tokenize Language</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <a class="nav-link" href="enterprise-integration-patterns.html">Enterprise Integration Patterns</a> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="aggregate-eip.html">Aggregate EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="batch-config-eip.html">Batch-config EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="bean-eip.html">Bean EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="choice-eip.html">Choice EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="circuitBreaker-eip.html">Circuit Breaker EIP (deprecated)</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="claimCheck-eip.html">Claim Check EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="content-based-router-eip.html">Content Based Router</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="content-filter-eip.html">Content Filter</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="convertBodyTo-eip.html">Convert Body To EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="customLoadBalancer-eip.html">Custom Load Balancer EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="delay-eip.html">Delay EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="dynamic-router.html">Dynamic Router</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="dynamicRouter-eip.html">Dynamic Router EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="enrich-eip.html">Enrich EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="eventDrivenConsumer-eip.html">Event Driven Consumer</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="failover-eip.html">Failover EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="filter-eip.html">Filter EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="from-eip.html">From EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="hystrix-eip.html">Hystrix EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="hystrixConfiguration-eip.html">Hystrix Configuration EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="idempotentConsumer-eip.html">Idempotent Consumer EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="inOnly-eip.html">In Only EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="inOut-eip.html">In Out EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="loadBalance-eip.html">Load Balance EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="log-eip.html">Log EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="loop-eip.html">Loop EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="marshal-eip.html">Marshal EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="multicast-eip.html">Multicast EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="onFallback-eip.html">On Fallback EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="otherwise-eip.html">Otherwise EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="pipeline-eip.html">Pipeline EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="pollEnrich-eip.html">Poll Enrich EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="process-eip.html">Process EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="random-eip.html">Random EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="recipientList-eip.html">Recipient List EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="removeHeader-eip.html">Remove Header EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="removeHeaders-eip.html">Remove Headers EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="removeProperties-eip.html">Remove Properties EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="removeProperty-eip.html">Remove Property EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="requestReply-eip.html">Request Reply</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="resequence-eip.html">Resequence EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="rollback-eip.html">Rollback EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="roundRobin-eip.html">Round Robin EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="routingSlip-eip.html">Routing Slip EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="saga-eip.html">Saga EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="sample-eip.html">Sample EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="script-eip.html">Script EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="serviceCall-eip.html">Service Call EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="setBody-eip.html">Set Body EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="setHeader-eip.html">Set Header EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="setOutHeader-eip.html">Set Out Header EIP (deprecated)</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="setProperty-eip.html">Set Property EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="sort-eip.html">Sort EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="split-eip.html">Split EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="step-eip.html">Step EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="sticky-eip.html">Sticky EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="stop-eip.html">Stop EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="stream-config-eip.html">Stream-config EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="threads-eip.html">Threads EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="throttle-eip.html">Throttle EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="to-eip.html">To EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="toD-eip.html">To D EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="topic-eip.html">Topic EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="transform-eip.html">Transform EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="unmarshal-eip.html">Unmarshal EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="validate-eip.html">Validate EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="weighted-eip.html">Weighted EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="when-eip.html">When EIP</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="wireTap-eip.html">Wire Tap EIP</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <button class="nav-item-toggle"></button> <span class="nav-text">Frequently asked questions</span> <ul class="nav-list"> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/can-i-get-commercial-support.html">Can I get commercial support?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/does-camel-work-on-ibms-jdk.html">Does Camel work on IBM&#8217;s JDK?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="support.html">How can I get help?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-can-i-get-the-source-code.html">How can I get the source code?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-compare-to-mule.html">How does Camel compare to Mule?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-compare-to-servicemix.html">How does Camel compare to ServiceMix?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-compare-to-servicemix-eip.html">How does Camel compare to ServiceMix EIP?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-compare-to-synapse.html">How does Camel compare to Synapse?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-work.html">How does Camel work?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-work-with-activemq.html">How does Camel work with ActiveMQ?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-work-with-servicemix.html">How does Camel work with ServiceMix?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-the-camel-api-compare-to.html">How does the Camel API compare to?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-the-website-work.html">How does the website work?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-become-a-committer.html">How do I become a committer?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-compile-the-code.html">How do I compile the code?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-edit-the-website.html">How do I edit the website?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-run-camel-using-java-webstart.html">How do I run Camel using Java WebStart?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/if-i-use-servicemix-when-should-i-use-camel.html">If I use ServiceMix when should I use Camel?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/is-camel-an-esb.html">Is Camel an ESB?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/is-camel-ioc-friendly.html">Is Camel IoC friendly?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/running-camel-standalone.html">Running Camel standalone</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-are-the-dependencies.html">What are the dependencies?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-is-a-router.html">What is a router?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-is-camel.html">What is Camel?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-is-the-license.html">What is the license?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-jars-do-i-need.html">What jars do I need?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="languages.html">What languages are supported?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/what-platforms-are-supported.html">What platforms are supported?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-the-name-camel.html">Why the name Camel?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/classloader-issue-of-servicemix-camel-component.html">Classloader issue of servicemix-camel component</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-specify-which-method-to-use-when-using-beans-in-routes.html">How do I specify which method to use when using beans in routes?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-can-i-create-a-custom-component-or-endpoint.html">How can I create a custom component or endpoint?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-can-i-get-the-remote-connection-ip-address-from-the-camel-cxf-consumer-.html">How can I get the remote connection IP address from the camel-cxf consumer ?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-can-i-stop-a-route-from-a-route.html">How can I stop a route from a route?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-can-webservice-clients-see-remote-faults-with-stacktraces-when-using-camel-cxf.html">How can webservice clients see remote faults with stacktraces when using camel-cxf?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-does-camel-look-up-beans-and-endpoints.html">How does Camel look up beans and endpoints?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="configuring-camel.html">How do I add a component?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-change-the-logging.html">How do I change the logging?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-configure-endpoints.html">How do I configure endpoints?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-configure-password-options-on-camel-endpoints-without-the-value-being-encoded.html">How do I configure password options on Camel endpoints without the value being encoded?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-configure-the-default-maximum-cache-size-for-producercache-or-producertemplate.html">How do I configure the default maximum cache size for ProducerCache or ProducerTemplate?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-configure-the-maximum-endpoint-cache-size-for-camelcontext.html">How do I configure the maximum endpoint cache size for CamelContext?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-debug-my-route.html">How do I debug my route?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-disable-jmx.html">How do I disable JMX?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-enable-streams-when-debug-logging-messages-in-camel.html">How do I enable streams when debug logging messages in Camel?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-handle-failures-when-consuming-for-example-from-a-ftp-server.html">How do I handle failures when consuming for example from a FTP server?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-import-rests-from-other-xml-files.html">How do I import rests from other XML files?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-import-routes-from-other-xml-files.html">How do I import routes from other XML files?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-let-jetty-match-wildcards.html">How do I let Jetty match wildcards?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-name-my-routes.html">How do I name my routes?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-restart-camelcontext.html">How do I restart CamelContext?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-retrieve-the-thrown-exception-during-processing-an-exchange.html">How do I retrieve the thrown Exception during processing an Exchange?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-retry-failed-messages-forever.html">How do I retry failed messages forever?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-retry-processing-a-message-from-a-certain-point-back-or-an-entire-route.html">How do I retry processing a message from a certain point back or an entire route?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-reuse-the-contexttestsupport-class-in-my-unit-tests.html">How do I reuse the ContextTestSupport class in my unit tests?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-run-activemq-and-camel-in-jboss.html">How do I run ActiveMQ and Camel in JBoss?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-set-the-max-chars-when-debug-logging-messages-in-camel.html">How do I set the max chars when debug logging messages in Camel?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-specify-time-period-in-a-human-friendly-syntax.html">How do I specify time period in a human friendly syntax?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-a-big-uber-jar.html">How do I use a big (uber) JAR?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-camel-inside-servicemix.html">How do I use Camel inside ServiceMix?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-spring-property-placeholder-with-camel-xml.html">How do I use Spring Property Placeholder with Camel XML?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-uris-with-parameters-in-xml.html">How do I use URIs with parameters in XML?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-write-a-custom-processor-which-sends-multiple-messages.html">How do I write a custom Processor which sends multiple messages?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-should-i-invoke-my-pojos-or-spring-services.html">How should I invoke my POJOs or Spring Services?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-should-i-package-applications-using-camel-and-activemq.html">How should I package applications using Camel and ActiveMQ?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-avoid-importing-bunch-of-cxf-packages-when-start-up-the-camel-cxf-endpoint-from-osgi-platform-.html">How to avoid importing bunch of cxf packages when start up the camel-cxf endpoint from OSGi platform?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-avoid-sending-some-or-all-message-headers.html">How to avoid sending some or all message headers?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-define-a-static-camel-converter-method-in-scala.html">How to define a static Camel converter method in Scala?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-remove-the-http-protocol-headers-in-the-camel-message.html">How to remove the http protocol headers in the camel message?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-send-the-same-message-to-multiple-endpoints.html">How to send the same message to multiple endpoints?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-switch-the-cxf-consumer-between-http-and-https-without-touching-the-spring-configuration.html">How to switch the CXF consumer between HTTP and HTTPS without touching the Spring configuration?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-to-use-a-dynamic-uri-in-to.html">How to use a dynamic URI in to()?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/is-there-an-ide.html">Is there an IDE?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/should-i-deploy-camel-inside-the-activemq-broker-or-in-another-application.html">Should I deploy Camel inside the ActiveMQ broker or in another application?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/using-camel-core-testsjar.html">Using camel-core-tests.jar</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/using-getin-or-getout-methods-on-exchange.html">Using getIn or getOut methods on Exchange</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-cant-i-use-sign-in-my-password.html">Why can&#8217;t I use + sign in my password?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-can-i-not-use-when-or-otherwise-in-a-java-camel-route.html">Why can I not use when or otherwise in a Java Camel route?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-ftp-component-not-download-any-files.html">Why does FTP component not download any files?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-my-file-consumer-not-pick-up-the-file-and-how-do-i-let-the-file-consumer-use-the-camel-error-handler.html">Why does my file consumer not pick up the file, and how do I let the file consumer use the Camel error handler?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-useoriginalmessage-with-error-handler-not-work-as-expected.html">Why does useOriginalMessage with error handler not work as expected?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-do-my-message-lose-its-headers-during-routing.html">Why do my message lose its headers during routing?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-is-my-message-body-empty.html">Why is my message body empty?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-is-my-processor-not-showing-up-in-jconsole.html">Why is my processor not showing up in JConsole?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-is-the-exception-null-when-i-use-onexception.html">Why is the exception null when I use onException?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-use-multiple-camelcontext.html">Why use multiple CamelContext?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-enable-debug-logging.html">How do I enable debug logging?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-java-14-logging.html">How do I use Java 1.4 logging?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-use-log4j.html">How do I use log4j?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-invoke-camel-routes-from-jbi.html">How do I invoke Camel routes from JBI?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-make-my-jms-endpoint-transactional.html">How Do I Make My JMS Endpoint Transactional?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-i-set-the-mep-when-interacting-with-jbi.html">How do I set the MEP when interacting with JBI?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-the-direct-event-seda-and-vm-endpoints-compare.html">How do the direct, event, seda and vm endpoints compare?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/how-do-the-timer-and-quartz-endpoints-compare.html">How do the Timer and Quartz endpoints compare?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-my-jms-route-only-consume-one-message-at-once.html">Why does my JMS route only consume one message at once?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/exception-beandefinitionstoreexception.html">Exception - BeanDefinitionStoreException</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/exception-javaxnamingnoinitialcontextexception.html">Exception - javax.naming.NoInitialContextException</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/exception-orgapachecamelnosuchendpointexception.html">Exception - org.apache.camel.NoSuchEndpointException</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/exception-orgxmlsaxsaxparseexception.html">Exception - org.xml.sax.SAXParseException</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/memory-leak-when-adding-and-removing-routes-at-runtime.html">Memory leak when adding and removing routes at runtime</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-do-camel-throw-so-many-noclassdeffoundexception-on-startup.html">Why do Camel throw so many NoClassDefFoundException on startup?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-camel-use-too-many-threads-with-producertemplate.html">Why does Camel use too many threads with ProducerTemplate?</a> </li> <li class="nav-item" data-depth="2"> <a class="nav-link" href="faq/why-does-maven-not-download-dependencies.html">Why does maven not download dependencies?</a> </li> </ul> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="camel-3-migration-guide.html">Camel 3 Migration Guide</a> </li> </ul> </li> </ul> </nav> </div> <div class="nav-panel-explore" data-panel="explore"> <div class="context"> <span class="title">User manual</span> <span class="version">latest</span> </div> <ul class="components"> <li class="component"> <span class="title">Apache Camel extensions for Quarkus</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-quarkus/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Apache Camel K</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-k/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Component reference</span> <ul class="versions"> <li class="version is-latest"> <a href="../../components/latest/index.html">latest</a> </li> <li class="version"> <a href="../../components/2.x/index.html">2.x</a> </li> </ul> </li> <li class="component is-current"> <span class="title">User manual</span> <ul class="versions"> <li class="version is-current is-latest"> <a href="index.html">latest</a> </li> </ul> </li> </ul> </div> </div> </aside> </div> <main role="main"> <div class="toolbar" role="navigation"> <button class="nav-toggle"></button> <a href="index.html" class="home-link"></a> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="index.html">User manual</a></li> <li><a href="using-propertyplaceholder.html">Using <code>PropertyPlaceholder</code></a></li> </ul> </nav> <div class="edit-this-page"><a href="https://github.com/apache/camel/edit/master/docs/user-manual/modules/ROOT/pages/using-propertyplaceholder.adoc">Edit this Page</a></div> </div> <article class="doc"> <h1 class="page">Using <code>PropertyPlaceholder</code></h1> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.3</strong></p> </div> <div class="paragraph"> <p>Camel now provides a new <code>PropertiesComponent</code> in <code>camel-core</code> which allows you to use property placeholders when defining Camel <a href="endpoint.html" class="page">Endpoint</a> URIs. This works much like you would do if using Spring&#8217;s <code>&lt;property-placeholder&gt;</code> tag. However Spring has a limitation that prevents third-party frameworks from fully leveraging Spring property placeholders.</p> </div> <div class="paragraph"> <p>For more details see: <a href="faq/how-do-i-use-spring-property-placeholder-with-camel-xml.html" class="page">How do I use Spring Property Placeholder with Camel XML</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-BridgingSpringandCamelPropertyPlaceholders"><a class="anchor" href="#UsingPropertyPlaceholder-BridgingSpringandCamelPropertyPlaceholders"></a>Bridging Spring and Camel Property Placeholders</h2> <div class="sectionbody"> <div class="paragraph"> <p>From <strong>Camel 2.10</strong>: Spring&#8217;s property placeholder can be bridged with Camel&#8217;s. See below for more details.</p> </div> <div class="paragraph"> <p>The property placeholder is typically used when trying to do any of the following:</p> </div> <div class="ulist"> <ul> <li> <p>Lookup or creating endpoints</p> </li> <li> <p>Lookup of beans in the <a href="registry.html" class="page">Registry</a></p> </li> <li> <p>Additional supported in Spring XML (see below in examples)</p> </li> <li> <p>Using Blueprint <code>PropertyPlaceholder</code> with Camel <a href="../../components/latest/properties-component.html" class="page">Properties</a> component</p> </li> <li> <p>Using <code>@PropertyInject</code> to inject a property in a POJO</p> </li> <li> <p><strong>Camel 2.14.1</strong> Using default value if a property does not exists</p> </li> <li> <p><strong>Camel 2.14.1</strong> Include out of the box functions, to lookup property values from OS environment variables, JVM system properties, or the service idiom</p> </li> <li> <p><strong>Camel 2.14.1</strong> Using custom functions, which can be plugged into the property component</p> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-Format"><a class="anchor" href="#UsingPropertyPlaceholder-Format"></a>Format</h2> <div class="sectionbody"> <div class="paragraph"> <p>The value of a Camel property can be obtained by specifying its key name within a property placeholder, using the following format: <code>{{key}}</code></p> </div> <div class="paragraph"> <p>For example:</p> </div> <div class="literalblock"> <div class="content"> <pre>{{file.uri}}</pre> </div> </div> <div class="paragraph"> <p>where <code>file.uri</code> is the property key.</p> </div> <div class="paragraph"> <p>Property placeholders can be used to specify parts, or all, of an endpoint&#8217;s URI by embedding one or more placeholders in the URI&#8217;s string definition.</p> </div> <div class="paragraph"> <p>From <strong>Camel 2.14.1</strong>: you can specify a default value to use if a property with the key does not exists, e.g., <code>file.url:/some/path</code> where the default value is the text after the colon, e.g., <code>/some/path</code>.</p> </div> <div class="paragraph"> <p>From <strong>Camel 2.14.1</strong>: do <em>not</em> use a colon in the property key. The colon character is used as a token separator when providing a default value.</p> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-UsingPropertyResolver"><a class="anchor" href="#UsingPropertyPlaceholder-UsingPropertyResolver"></a>Using <code>PropertyResolver</code></h2> <div class="sectionbody"> <div class="paragraph"> <p>Camel provides a pluggable mechanism that allows third-parties to specify their own resolver to use for the lookup of properties.</p> </div> <div class="paragraph"> <p>Camel provides a default implementation <code>org.apache.camel.component.properties.DefaultPropertiesResolver</code> which is capable of loading properties from the file system, classpath or <a href="registry.html" class="page">Registry</a>. To indicate which source to use the location must contain the appropriate prefix.</p> </div> <div class="paragraph"> <p>The list of prefixes is:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Prefix</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>ref:</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Lookup in the <a href="registry.html" class="page">Registry.</a></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>file:</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Load the from file system.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>classpath:</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Load from the classpath (this is also the default if no prefix is provided).</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>blueprint:</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use a specific OSGi blueprint placeholder service.</p></td> </tr> </tbody> </table></div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-DefiningLocation"><a class="anchor" href="#UsingPropertyPlaceholder-DefiningLocation"></a>Defining Location</h2> <div class="sectionbody"> <div class="paragraph"> <p>The <code>PropertiesResolver</code> must be configured with the location(s) to use when resolving properties. One or more locations can be given. Specifying multiple locations can be done a couple of ways: using either a single comma separated string, or an array of strings.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">pc.setLocation("com/mycompany/myprop.properties,com/mycompany/other.properties");
pc.setLocation(new String[] {"com/mycompany/myprop.properties", "com/mycompany/other.properties"});</code></pre> </div> </div> <div class="paragraph"> <p>From <strong>Camel 2.19.0</strong>: you can set which location can be discarded if missing by setting <code>optional=true</code>, (<code>false</code> by default).</p> </div> <div class="paragraph"> <p>Example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">pc.setLocations("com/mycompany/override.properties;optional=true,com/mycompany/defaults.properties");</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-UsingSystemandEnvironmentVariablesinLocations"><a class="anchor" href="#UsingPropertyPlaceholder-UsingSystemandEnvironmentVariablesinLocations"></a>Using System and Environment Variables in Locations</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.7</strong></p> </div> <div class="paragraph"> <p>The location now supports using placeholders for JVM system properties and OS environments variables.</p> </div> <div class="paragraph"> <p>Example:</p> </div> <div class="literalblock"> <div class="content"> <pre>location=file:${karaf.home}/etc/foo.properties</pre> </div> </div> <div class="paragraph"> <p>In the location above we defined a location using the file scheme using the JVM system property with key <code>karaf.home</code>.</p> </div> <div class="paragraph"> <p>To use an OS environment variable instead you would have to prefix with <code>env</code>:</p> </div> <div class="paragraph"> <p>location=file:${env:APP_HOME}/etc/foo.properties</p> </div> <div class="paragraph"> <p>Where <code>APP_HOME</code> is an OS environment variable.</p> </div> <div class="paragraph"> <p>You can have multiple placeholders in the same location, such as:</p> </div> <div class="paragraph"> <p>location=file:${env:APP_HOME}/etc/${prop.name}.properties</p> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-UsingSystemorEnvironmentVariablestoConfigurePropertyPrefixesandSuffixes"><a class="anchor" href="#UsingPropertyPlaceholder-UsingSystemorEnvironmentVariablestoConfigurePropertyPrefixesandSuffixes"></a>Using System or Environment Variables to Configure Property Prefixes and Suffixes</h2> <div class="sectionbody"> <div class="paragraph"> <p>From <strong>Camel 2.12.5, 2.13.3, 2.14.0</strong>: <code>propertyPrefix</code>, <code>propertySuffix</code> configuration properties support the use of placeholders for de-referencing JVM system properties and OS environments variables.</p> </div> <div class="paragraph"> <p>Example:</p> </div> <div class="paragraph"> <p>Assume the <code>PropertiesComponent</code> is configured with the following properties file:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">textdev.endpoint = result1
test.endpoint = result2</code></pre> </div> </div> <div class="paragraph"> <p>The same properties file is then referenced from a route definition:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">PropertiesComponent pc = context.getComponent("properties",
PropertiesComponent.class); pc.setPropertyPrefix("${stage}.");
// ...
context.addRoutes(new RouteBuilder() {
    @Override
    public void configure() throws Exception {
        from("direct:start")
            .to("properties:mock:{{endpoint}}");
    }
});</code></pre> </div> </div> <div class="paragraph"> <p>By using the configuration options <code>propertyPrefix</code> it&#8217;s possible to change the target endpoint simply by changing the value of the system property <code>stage</code> either to <code>dev</code> (the message will be routed to <code>mock:result1</code>) or <code>test</code> (the message will be routed to <code>mock:result2</code>).</p> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-ConfiguringinJavaDSL"><a class="anchor" href="#UsingPropertyPlaceholder-ConfiguringinJavaDSL"></a>Configuring in Java DSL</h2> <div class="sectionbody"> <div class="paragraph"> <p>You have to create and register the <code>PropertiesComponent</code> under the name <code>properties</code> such as:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">PropertiesComponent pc = new PropertiesComponent();
pc.setLocation("classpath:com/mycompany/myprop.properties");
context.addComponent("properties", pc);</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-ConfiguringinSpringXML"><a class="anchor" href="#UsingPropertyPlaceholder-ConfiguringinSpringXML"></a>Configuring in Spring XML</h2> <div class="sectionbody"> <div class="paragraph"> <p>Spring XML offers two variations to configure. You can define a spring bean as a <code>PropertiesComponent</code> which resembles the way done in Java DSL. Or you can use the <code>&lt;propertyPlaceholder&gt;</code> tag.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="properties" class="org.apache.camel.component.properties.PropertiesComponent"&gt;
    &lt;property name="location" value="classpath:com/mycompany/myprop.properties"/&gt;
&lt;/bean&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Using the <code>&lt;propertyPlaceholder&gt;</code> tag makes the configuration a bit more fresh such as:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;camelContext ...&gt;
    &lt;propertyPlaceholder id="properties" location="com/mycompany/myprop.properties"/&gt;
&lt;/camelContext&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Setting the properties location through the location tag works just fine but sometime you have a number of resources to take into account and starting from <strong>Camel 2.19.0</strong> you can set the properties location with a dedicated <code>propertiesLocation</code>:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;camelContext ...&gt;
    &lt;propertyPlaceholder id="myPropertyPlaceholder"&gt;
        &lt;propertiesLocation resolver="classpath" path="com/my/company/something/my-properties-1.properties" optional="false"/&gt;
        &lt;propertiesLocation resolver="classpath" path="com/my/company/something/my-properties-2.properties" optional="false"/&gt;
        &lt;propertiesLocation resolver="file" path="${karaf.home}/etc/my-override.properties" optional="true"/&gt;
    &lt;/propertyPlaceholder&gt;
&lt;/camelContext&gt;</code></pre> </div> </div> <div class="sect2"> <h3 id="_specifying_the_cache_option_in_xml"><a class="anchor" href="#_specifying_the_cache_option_in_xml"></a>Specifying the cache option in XML</h3> <div class="paragraph"> <p>From <strong>Camel 2.10</strong>: Camel supports specifying a value for the <code>cache</code> option both inside the Spring as well as the Blueprint XML.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-UsingaPropertiesfromthe"><a class="anchor" href="#UsingPropertyPlaceholder-UsingaPropertiesfromthe"></a>Using a Properties from the <a href="registry.html" class="page">Registry</a></h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.4</strong></p> </div> <div class="paragraph"> <p>For example in OSGi you may want to expose a service which returns the properties as a <code>java.util.Properties</code> object.</p> </div> <div class="paragraph"> <p>Then you could setup the <a href="../../components/latest/properties-component.html" class="page">Properties</a> component as follows:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;propertyPlaceholder id="properties" location="ref:myProperties"/&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Where <code>myProperties</code> is the id to use for lookup in the OSGi registry. Notice we use the <code>ref:</code> prefix to tell Camel that it should lookup the properties for the <a href="registry.html" class="page">Registry</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-ExamplesUsingPropertiesComponent"><a class="anchor" href="#UsingPropertyPlaceholder-ExamplesUsingPropertiesComponent"></a>Examples Using Properties Component</h2> <div class="sectionbody"> <div class="paragraph"> <p>When using property placeholders in the endpoint URIs you can either use the <code>properties:</code> component or define the placeholders directly in the URI. We will show example of both cases, starting with the former.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// properties
cool.end=mock:result

// route
from("direct:start")
    .to("properties:{{cool.end}}");</code></pre> </div> </div> <div class="paragraph"> <p>You can also use placeholders as a part of the endpoint URI:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// properties
cool.foo=result

// route
from("direct:start")
    .to("properties:mock:{{cool.foo}}");</code></pre> </div> </div> <div class="paragraph"> <p>In the example above the to endpoint will be resolved to <code>mock:result</code>.</p> </div> <div class="paragraph"> <p>You can also have properties with refer to each other such as:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// properties
cool.foo=result
cool.concat=mock:{{cool.foo}}

// route
from("direct:start")
    .to("properties:mock:{{cool.concat}}");</code></pre> </div> </div> <div class="paragraph"> <p>Notice how <code>cool.concat</code> refer to another property.</p> </div> <div class="paragraph"> <p>The <code>properties:</code> component also offers you to override and provide a location in the given URI using the <code>locations</code> option:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:start")
    .to("properties:bar.end?locations=com/mycompany/bar.properties");</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-Examples"><a class="anchor" href="#UsingPropertyPlaceholder-Examples"></a>Examples</h2> <div class="sectionbody"> <div class="paragraph"> <p>You can also use property placeholders directly in the endpoint URIs without having to use <code>properties:</code>.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// properties
cool.foo=result

// route
from("direct:start")
    .to("mock:{{cool.foo}}");</code></pre> </div> </div> <div class="paragraph"> <p>And you can use them in multiple wherever you want them:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// properties
cool.start=direct:start
cool.showid=true
cool.result=result

// route
from("{{cool.start}}")
    .to("log:{{cool.start}}?showBodyType=false&amp;showExchangeId={{cool.showid}}")
    .to("mock:{{cool.result}}");</code></pre> </div> </div> <div class="paragraph"> <p>You can also your property placeholders when using <a href="producertemplate.html" class="page">ProducerTemplate</a> for example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">template.sendBody("{{cool.start}}", "Hello World");</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-Examplewithlanguage"><a class="anchor" href="#UsingPropertyPlaceholder-Examplewithlanguage"></a>Example with <a href="simple-language.html" class="page">Simple</a> language</h2> <div class="sectionbody"> <div class="paragraph"> <p>The <a href="simple-language.html" class="page">Simple</a> language now also support using property placeholders, for example in the route below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// properties
cheese.quote=Camel rocks

// route from("direct:start")
    .transform().simple("Hi ${body} do you think ${properties:cheese.quote}?");</code></pre> </div> </div> <div class="paragraph"> <p>You can also specify the location in the <a href="simple-language.html" class="page">Simple</a> language for example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// bar.properties
bar.quote=Beer tastes good

// route
from("direct:start")
    .transform().simple("Hi ${body}. ${properties:com/mycompany/bar.properties:bar.quote}.");</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-AdditionalPropertyPlaceholderSupportinSpringXML"><a class="anchor" href="#UsingPropertyPlaceholder-AdditionalPropertyPlaceholderSupportinSpringXML"></a>Additional Property Placeholder Support in Spring XML</h2> <div class="sectionbody"> <div class="paragraph"> <p>The property placeholders is also supported in many of the Camel Spring XML tags such as <code>&lt;package&gt;</code>, <code>&lt;packageScan&gt;</code>, <code>&lt;contextScan&gt;</code>, <code>&lt;jmxAgent&gt;</code>, <code>&lt;endpoint&gt;</code>, <code>&lt;routeBuilder&gt;</code>, <code>&lt;proxy&gt;</code> and the others.</p> </div> <div class="paragraph"> <p>Example using property placeholders in the <code>&lt;jmxAgent&gt;</code> tag:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;camelContext xmlns="http://camel.apache.org/schema/spring"&gt;
    &lt;propertyPlaceholder id="properties" location="org/apache/camel/spring/jmx.properties"/&gt;
    &lt;!-- we can use propery placeholders when we define the JMX agent --&gt;
    &lt;jmxAgent id="agent" registryPort="{{myjmx.port}}" disabled="{{myjmx.disabled}}"
              usePlatformMBeanServer="{{myjmx.usePlatform}}" createConnector="true"
              statisticsLevel="RoutesOnly" useHostIPAddress="true"/&gt;
    &lt;route id="foo" autoStartup="false"&gt;
        &lt;from uri="seda:start"/&gt;
        &lt;to uri="mock:result"/&gt;
    &lt;/route&gt;
&lt;/camelContext&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Example using property placeholders in the attributes of <code>&lt;camelContext&gt;</code>:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;camelContext trace="{{foo.trace}}" xmlns="http://camel.apache.org/schema/spring"&gt;
    &lt;propertyPlaceholder id="properties" location="org/apache/camel/spring/processor/myprop.properties"/&gt;
    &lt;template id="camelTemplate" defaultEndpoint="{{foo.cool}}"/&gt;
    &lt;route&gt;
        &lt;from uri="direct:start"/&gt;
        &lt;setHeader name="{{foo.header}}"&gt;
            &lt;simple&gt;${in.body} World!&lt;/simple&gt;
        &lt;/setHeader&gt;
        &lt;to uri="mock:result"/&gt;
    &lt;/route&gt;
&lt;/camelContext&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-OverridingaPropertySettingUsingaJVMSystemProperty"><a class="anchor" href="#UsingPropertyPlaceholder-OverridingaPropertySettingUsingaJVMSystemProperty"></a>Overriding a Property Setting Using a JVM System Property</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.5</strong></p> </div> <div class="paragraph"> <p>It is possible to override a property value at runtime using a JVM System property without the need to restart the application to pick up the change. This may also be accomplished from the command line by creating a JVM System property of the same name as the property it replaces with a new value.</p> </div> <div class="paragraph"> <p>Example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">PropertiesComponent pc = context.getComponent("properties", PropertiesComponent.class);
pc.setCache(false);
System.setProperty("cool.end", "mock:override");
System.setProperty("cool.result", "override");
context.addRoutes(new RouteBuilder() {
    @Override
    public void configure() throws Exception {
        from("direct:start").to("properties:cool.end");
        from("direct:foo").to("properties:mock:{{cool.result}}");
    }
});
context.start();
getMockEndpoint("mock:override").expectedMessageCount(2);
template.sendBody("direct:start", "Hello World");
template.sendBody("direct:foo", "Hello Foo");
System.clearProperty("cool.end");
System.clearProperty("cool.result");
assertMockEndpointsSatisfied();</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-UsingPropertyPlaceholdersforAnyKindofAttributeintheXMLDSL"><a class="anchor" href="#UsingPropertyPlaceholder-UsingPropertyPlaceholdersforAnyKindofAttributeintheXMLDSL"></a>Using Property Placeholders for Any Kind of Attribute in the XML DSL</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.7</strong></p> </div> <div class="paragraph"> <p>If you use OSGi Blueprint then this only works from <strong>2.11.1</strong> or <strong>2.10.5</strong> on.</p> </div> <div class="paragraph"> <p>Previously it was only the <code>xs:string</code> type attributes in the XML DSL that support placeholders. For example often a timeout attribute would be a <code>xs:int</code> type and thus you cannot set a string value as the placeholder key. This is now possible from Camel 2.7 on using a special placeholder namespace.</p> </div> <div class="paragraph"> <p>In the example below we use the <code>prop</code> prefix for the namespace <code>http://camel.apache.org/schema/placeholder</code> by which we can use the <code>prop</code> prefix in the attributes in the XML DSLs. Notice how we use that in the <a href="multicast-eip.html" class="page">Multicast</a> to indicate that the option <code>stopOnException</code> should be the value of the placeholder with the key <code>stop</code>.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:prop="http://camel.apache.org/schema/placeholder"
       xsi:schemaLocation="
           http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
           http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd"&gt;
    &lt;!-- Notice in the declaration above, we have defined the prop prefix as the Camel placeholder namespace --&gt;
    &lt;bean id="damn" class="java.lang.IllegalArgumentException"&gt;
        &lt;constructor-arg index="0" value="Damn"/&gt;
    &lt;/bean&gt;
    &lt;camelContext xmlns="http://camel.apache.org/schema/spring"&gt;
        &lt;propertyPlaceholder id="properties" location="classpath:org/apache/camel/component/properties/myprop.properties"
                             xmlns="http://camel.apache.org/schema/spring"/&gt;
        &lt;route&gt;
            &lt;from uri="direct:start"/&gt;
            &lt;!-- use prop namespace, to define a property placeholder, which maps to option stopOnException={{stop}} --&gt;
            &lt;multicast prop:stopOnException="stop"&gt;
            &lt;to uri="mock:a"/&gt;
            &lt;throwException ref="damn"/&gt;
            &lt;to uri="mock:b"/&gt;
            &lt;/multicast&gt;
        &lt;/route&gt;
    &lt;/camelContext&gt;
&lt;/beans&gt;</code></pre> </div> </div> <div class="paragraph"> <p>In our properties file we have the value defined as:</p> </div> <div class="literalblock"> <div class="content"> <pre>stop=true</pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-UsingPropertyPlaceholderintheJavaDSL"><a class="anchor" href="#UsingPropertyPlaceholder-UsingPropertyPlaceholderintheJavaDSL"></a>Using Property Placeholder in the Java DSL</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.7</strong></p> </div> <div class="paragraph"> <p>Likewise we have added support for defining placeholders in the Java DSL using the new <code>placeholder</code> DSL as shown in the following equivalent example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:start")
    // use a property placeholder for the option stopOnException on the Multicast EIP
    // which should have the value of {{stop}} key being looked up in the properties file
    .multicast()
    .placeholder("stopOnException", "stop")
    .to("mock:a")
    .throwException(new IllegalAccessException("Damn"))
    .to("mock:b");</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-UsingBlueprintPropertyPlaceholderwithCamelRoutes"><a class="anchor" href="#UsingPropertyPlaceholder-UsingBlueprintPropertyPlaceholderwithCamelRoutes"></a>Using Blueprint Property Placeholder with Camel Routes</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.7</strong></p> </div> <div class="paragraph"> <p>Camel supports <a href="using-osgi-blueprint-with-camel.html" class="page">Blueprint</a> which also offers a property placeholder service. Camel supports convention over configuration, so all you have to do is to define the OSGi Blueprint property placeholder in the XML file as shown below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.0.0"
           xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0 https://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd"&gt;
    &lt;!-- OSGI blueprint property placeholder --&gt;
    &lt;cm:property-placeholder id="myblueprint.placeholder" persistent-id="camel.blueprint"&gt;
        &lt;!-- list some properties as needed --&gt;
        &lt;cm:default-properties&gt;
            &lt;cm:property name="result" value="mock:result"/&gt;
        &lt;/cm:default-properties&gt;
    &lt;/cm:property-placeholder&gt;
    &lt;camelContext xmlns="http://camel.apache.org/schema/blueprint"&gt;
        &lt;!-- in the route we can use {{ }} placeholders which will lookup in blueprint as Camel
             will auto detect the OSGi blueprint property placeholder and use it --&gt;
        &lt;route&gt;
            &lt;from uri="direct:start"/&gt;
            &lt;to uri="mock:foo"/&gt;
            &lt;to uri="{{result}}"/&gt;
        &lt;/route&gt;
    &lt;/camelContext&gt;
&lt;/blueprint&gt;</code></pre> </div> </div> <div class="paragraph"> <p>By default Camel detects and uses OSGi blueprint property placeholder service. You can disable this by setting the attribute <code>useBlueprintPropertyResolver</code> to false on the <code>&lt;camelContext&gt;</code> definition.</p> </div> <div class="sect2"> <h3 id="_about_placeholder_syntaxes"><a class="anchor" href="#_about_placeholder_syntaxes"></a>About placeholder syntaxes</h3> <div class="paragraph"> <p>Notice how we can use the Camel syntax for placeholders <code>{{ }}</code> in the Camel route, which will lookup the value from OSGi blueprint. The blueprint syntax for placeholders is <code>${}</code>. So outside the <code>&lt;camelContext&gt;</code> you must use the <code>${}</code> syntax. Where as inside <code>&lt;camelContext&gt;</code> you must use <code>{{ }}</code> syntax. OSGi blueprint allows you to configure the syntax, so you can actually align those if you want.</p> </div> <div class="paragraph"> <p>You can also explicit refer to a specific OSGi blueprint property placeholder by its id. For that you need to use the Camel&#8217;s <code>&lt;propertyPlaceholder&gt;</code> as shown in the example below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.0.0"
           xsi:schemaLocation="http://www.osgi.org/xmlns/blueprint/v1.0.0 https://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd"&gt;
    &lt;!-- OSGI blueprint property placeholder --&gt;
    &lt;cm:property-placeholder id="myblueprint.placeholder" persistent-id="camel.blueprint"&gt;
        &lt;!-- list some properties as needed --&gt;
        &lt;cm:default-properties&gt;
            &lt;cm:property name="prefix.result" value="mock:result"/&gt;
        &lt;/cm:default-properties&gt;
    &lt;/cm:property-placeholder&gt;
    &lt;camelContext xmlns="http://camel.apache.org/schema/blueprint"&gt;
        &lt;!-- using Camel properties component and refer to the blueprint property placeholder by its id --&gt;
        &lt;propertyPlaceholder id="properties" location="blueprint:myblueprint.placeholder"
                             prefixToken="[[" suffixToken="]]" propertyPrefix="prefix."/&gt;
        &lt;!-- in the route we can use {{ }} placeholders which will lookup in blueprint --&gt;
        &lt;route&gt;
            &lt;from uri="direct:start"/&gt;
            &lt;to uri="mock:foo"/&gt;
            &lt;to uri="[[result]]"/&gt;
        &lt;/route&gt;
    &lt;/camelContext&gt;
&lt;/blueprint&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Notice how we use the <code>blueprint</code> scheme to refer to the OSGi blueprint placeholder by its id. This allows you to mix and match, for example you can also have additional schemes in the location. For example to load a file from the classpath you can do:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">location="blueprint:myblueprint.placeholder,classpath:myproperties.properties"</code></pre> </div> </div> <div class="paragraph"> <p>Each location is separated by comma.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-OverridingBlueprintPropertyPlaceholdersOutsideCamelContext"><a class="anchor" href="#UsingPropertyPlaceholder-OverridingBlueprintPropertyPlaceholdersOutsideCamelContext"></a>Overriding Blueprint Property Placeholders Outside CamelContext</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.10.4</strong></p> </div> <div class="paragraph"> <p>When using Blueprint property placeholder in the Blueprint XML file, you can declare the properties directly in the XML file as shown below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;!-- blueprint property placeholders --&gt;
&lt;cm:property-placeholder persistent-id="my-placeholders" update-strategy="reload"&gt;
  &lt;cm:default-properties&gt;
    &lt;cm:property name="greeting" value="Hello"/&gt;
    &lt;cm:property name="destination" value="mock:result"/&gt;
  &lt;/cm:default-properties&gt;
&lt;/cm:property-placeholder&gt;

&lt;!-- a bean that uses a blueprint property placeholder --&gt;
&lt;bean id="myCoolBean" class="org.apache.camel.test.blueprint.MyCoolBean"&gt;
  &lt;property name="say" value="${greeting}"/&gt;
&lt;/bean&gt;

&lt;camelContext xmlns="http://camel.apache.org/schema/blueprint"&gt;

  &lt;route&gt;
    &lt;from uri="direct:start"/&gt;
    &lt;bean ref="myCoolBean" method="saySomething"/&gt;
    &lt;to uri="{{destination}}"/&gt;
  &lt;/route&gt;

&lt;/camelContext&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Notice that we have a <code>&lt;bean&gt;</code> which refers to one of the properties. And in the Camel route we refer to the other using the <code>{{ }}</code> notation.</p> </div> <div class="paragraph"> <p>Now if you want to override these Blueprint properties from an unit test, you can do this as shown below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">protected String useOverridePropertiesWithConfigAdmin(Dictionary props) {
    // add the properties we want to override
    props.put("greeting", "Bye");

    // return the PID of the config-admin we are using in the blueprint xml file
    return "my-placeholders";
}</code></pre> </div> </div> <div class="paragraph"> <p>To do this we override and implement the <code>useOverridePropertiesWithConfigAdmin</code> method. We can then put the properties we want to override on the given props parameter. And the return value <em>must</em> be the persistence-id of the <code>&lt;cm:property-placeholder&gt;</code> tag, which you define in the blueprint XML file.</p> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-Usinga.cfgor.propertiesFileForBlueprintPropertyPlaceholders"><a class="anchor" href="#UsingPropertyPlaceholder-Usinga.cfgor.propertiesFileForBlueprintPropertyPlaceholders"></a>Using a <code>.cfg</code> or <code>.properties</code> File For Blueprint Property Placeholders</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.10.4</strong></p> </div> <div class="paragraph"> <p>When using Blueprint property placeholder in the Blueprint XML file, you can declare the properties in a .properties or <code>.cfg</code> file. If you use Apache ServiceMix/Karaf then this container has a convention that it loads the properties from a file in the etc directory with the naming <code>etc/pid.cfg</code>, where <code>pid</code> is the persistence-id.</p> </div> <div class="paragraph"> <p>For example in the blueprint XML file we have the <code>persistence-id="stuff"</code>, which mean it will load the configuration file as <code>etc/stuff.cfg</code>.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0"
           xsi:schemaLocation="
             http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0 http://aries.apache.org/schemas/blueprint-cm/blueprint-cm-1.1.0.xsd
             http://www.osgi.org/xmlns/blueprint/v1.0.0 https://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd"&gt;

&lt;!-- blueprint property placeholders, that will use etc/stuff.cfg as the properties file --&gt;
&lt;cm:property-placeholder persistent-id="stuff" update-strategy="reload"/&gt;

&lt;!-- a bean that uses a blueprint property placeholder --&gt;
&lt;bean id="myCoolBean" class="org.apache.camel.test.blueprint.MyCoolBean"&gt;
  &lt;property name="say" value="${greeting}"/&gt;
&lt;/bean&gt;

&lt;camelContext xmlns="http://camel.apache.org/schema/blueprint"&gt;

  &lt;route&gt;
    &lt;from uri="direct:start"/&gt;
    &lt;bean ref="myCoolBean" method="saySomething"/&gt;
    &lt;to uri="mock:result"/&gt;
  &lt;/route&gt;

&lt;/camelContext&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Now if you want to unit test this blueprint XML file, then you can override the <code>loadConfigAdminConfigurationFile</code> and tell Camel which file to load as shown below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
protected String[] loadConfigAdminConfigurationFile() {
    // String[0] = tell Camel the path of the .cfg file to use for OSGi ConfigAdmin in the blueprint XML file
    // String[1] = tell Camel the persistence-id of the cm:property-placeholder in the blueprint XML file
    return new String[]{"src/test/resources/etc/stuff.cfg", "stuff"};
}</code></pre> </div> </div> <div class="paragraph"> <p>Notice that this method requires to return a <code>String[]</code> with 2 values. The 1st value is the path for the configuration file to load. The second value is the persistence-id of the <code>&lt;cm:property-placeholder&gt;</code> tag.</p> </div> <div class="paragraph"> <p>The <code>stuff.cfg</code> file is just a plain properties file with the property placeholders such as:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">== this is a comment
greeting=Bye</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-Usinga.cfgfileandOverridingPropertiesforBlueprintPropertyPlaceholders"><a class="anchor" href="#UsingPropertyPlaceholder-Usinga.cfgfileandOverridingPropertiesforBlueprintPropertyPlaceholders"></a>Using a <code>.cfg</code> file and Overriding Properties for Blueprint Property Placeholders</h2> <div class="sectionbody"> <div class="paragraph"> <p>You can do both as well. Here is a complete example. First we have the Blueprint XML file:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;blueprint xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns:cm="http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0"
           xsi:schemaLocation="
             http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0 http://aries.apache.org/schemas/blueprint-cm/blueprint-cm-1.1.0.xsd
             http://www.osgi.org/xmlns/blueprint/v1.0.0 https://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd"&gt;

  &lt;!-- blueprint property placeholders, that will use etc/stuff.cfg as the properties file --&gt;
  &lt;cm:property-placeholder persistent-id="stuff" update-strategy="reload"&gt;
    &lt;cm:default-properties&gt;
      &lt;cm:property name="greeting" value="Hello" /&gt;
      &lt;cm:property name="echo" value="Hey" /&gt;
      &lt;cm:property name="destination" value="mock:original" /&gt;
    &lt;/cm:default-properties&gt;
  &lt;/cm:property-placeholder&gt;

  &lt;!-- a bean that uses a blueprint property placeholder --&gt;
  &lt;bean id="myCoolBean" class="org.apache.camel.test.blueprint.MyCoolBean"&gt;
    &lt;property name="say" value="${greeting}"/&gt;
    &lt;property name="echo" value="${echo}"/&gt;
  &lt;/bean&gt;

  &lt;camelContext xmlns="http://camel.apache.org/schema/blueprint"&gt;

    &lt;route&gt;
      &lt;from uri="direct:start"/&gt;
      &lt;bean ref="myCoolBean" method="saySomething"/&gt;
      &lt;to uri="{{destination}}"/&gt;
      &lt;bean ref="myCoolBean" method="echoSomething"/&gt;
      &lt;to uri="{{destination}}"/&gt;
    &lt;/route&gt;

  &lt;/camelContext&gt;

&lt;/blueprint&gt;</code></pre> </div> </div> <div class="paragraph"> <p>And in the unit test class we do as follows:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">/**
 * This example will load a Blueprint .cfg file (which will initialize configadmin), and also override its property
 * placeholders from this unit test source code directly (the change will reload blueprint container).
 */
public class ConfigAdminLoadConfigurationFileAndOverrideTest extends CamelBlueprintTestSupport {

    @Override
    protected String getBlueprintDescriptor() {
        // which blueprint XML file to use for this test
        return "org/apache/camel/test/blueprint/configadmin-loadfileoverride.xml";
    }

    @Override
    protected String[] loadConfigAdminConfigurationFile() {
        // which .cfg file to use, and the name of the persistence-id
        return new String[]{"src/test/resources/etc/stuff.cfg", "stuff"};
    }

    @Override
    protected String useOverridePropertiesWithConfigAdmin(Dictionary props) throws Exception {
        // override / add extra properties
        props.put("destination", "mock:extra");

        // return the persistence-id to use
        return "stuff";
    }

    @Test
    public void testConfigAdmin() throws Exception {
        // mock:original comes from &lt;cm:default-properties&gt;/&lt;cm:property name="destination" value="mock:original" /&gt;
        getMockEndpoint("mock:original").setExpectedMessageCount(0);
        // mock:result comes from loadConfigAdminConfigurationFile()
        getMockEndpoint("mock:result").setExpectedMessageCount(0);
        // mock:extra comes from useOverridePropertiesWithConfigAdmin()
        getMockEndpoint("mock:extra").expectedBodiesReceived("Bye World", "Yay Bye WorldYay Bye World");

        template.sendBody("direct:start", "World");

        assertMockEndpointsSatisfied();
    }

}</code></pre> </div> </div> <div class="paragraph"> <p>And the <code>etc/stuff.cfg</code> configuration file contains:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">greeting=Bye
echo=Yay
destination=mock:result</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-BridgingSpringandCamelPropertyPlaceholders-1"><a class="anchor" href="#UsingPropertyPlaceholder-BridgingSpringandCamelPropertyPlaceholders-1"></a>Bridging Spring and Camel Property Placeholders</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.10</strong></p> </div> <div class="paragraph"> <p>The Spring Framework does not allow third-party frameworks such as Apache Camel to seamless hook into the Spring property placeholder mechanism. However you can easily bridge Spring and Camel by declaring a Spring bean with the type <code>org.apache.camel.spring.spi.BridgePropertyPlaceholderConfigurer</code>, which is a Spring <code>org.springframework.beans.factory.config.PropertyPlaceholderConfigurer</code> type.</p> </div> <div class="paragraph"> <p>To bridge Spring and Camel you must define a single bean as shown below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;!-- bridge spring property placeholder with Camel --&gt;
&lt;!-- you must NOT use the &lt;context:property-placeholder at the same time, only this bridge bean --&gt;
&lt;bean id="bridgePropertyPlaceholder" class="org.apache.camel.spring.spi.BridgePropertyPlaceholderConfigurer"&gt;
  &lt;property name="location" value="classpath:org/apache/camel/component/properties/cheese.properties"/&gt;
&lt;/bean&gt;</code></pre> </div> </div> <div class="paragraph"> <p>You <strong>must not</strong> use the spring <code>&lt;context:property-placeholder&gt;</code> namespace at the same time; this is not possible.</p> </div> <div class="paragraph"> <p>After declaring this bean, you can define property placeholders using both the Spring style, and the Camel style within the <code>&lt;camelContext&gt;</code> tag as shown below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;!-- a bean that uses Spring property placeholder --&gt;
&lt;!-- the ${hi} is a spring property placeholder --&gt;
&lt;bean id="hello" class="org.apache.camel.component.properties.HelloBean"&gt;
  &lt;property name="greeting" value="${hi}"/&gt;
&lt;/bean&gt;

&lt;camelContext xmlns="http://camel.apache.org/schema/spring"&gt;
  &lt;!-- in this route we use Camels property placeholder {{ }} style --&gt;
  &lt;route&gt;
    &lt;from uri="direct:{{cool.bar}}"/&gt;
    &lt;bean ref="hello"/&gt;
    &lt;to uri="{{cool.end}}"/&gt;
  &lt;/route&gt;
&lt;/camelContext&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Notice how the hello bean is using pure Spring property placeholders using the <code>${}</code> notation. And in the Camel routes we use the Camel placeholder notation with <code>{{ }}</code>.</p> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-ClashingSpringPropertyPlaceholderswithCamelsLanguage"><a class="anchor" href="#UsingPropertyPlaceholder-ClashingSpringPropertyPlaceholderswithCamelsLanguage"></a>Clashing Spring Property Placeholders with Camels <a href="simple-language.html" class="page">Simple</a> Language</h2> <div class="sectionbody"> <div class="paragraph"> <p>Take notice when using Spring bridging placeholder then the spring <code>${}</code> syntax clashes with the <a href="simple-language.html" class="page">Simple</a> in Camel, and therefore take care.</p> </div> <div class="paragraph"> <p>Example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;setHeader name="Exchange.FILE_NAME"&gt;
    &lt;simple&gt;{{file.rootdir}}/${in.header.CamelFileName}&lt;/simple&gt;
&lt;/setHeader&gt;</code></pre> </div> </div> <div class="paragraph"> <p>clashes with Spring property placeholders, and you should use <code>$simple{}</code> to indicate using the <a href="simple-language.html" class="page">Simple</a> language in Camel.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;setHeader name="Exchange.FILE_NAME"&gt;
    &lt;simple&gt;{{file.rootdir}}/$simple{in.header.CamelFileName}&lt;/simple&gt;
&lt;/setHeader&gt;</code></pre> </div> </div> <div class="paragraph"> <p>An alternative is to configure the <code>PropertyPlaceholderConfigurer</code> with <code>ignoreUnresolvablePlaceholders</code> option to <code>true</code>.</p> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-OverridingPropertiesfromCamelTestKit"><a class="anchor" href="#UsingPropertyPlaceholder-OverridingPropertiesfromCamelTestKit"></a>Overriding Properties from Camel Test Kit</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.10</strong></p> </div> <div class="paragraph"> <p>When <a href="testing.html" class="page">Testing</a> with Camel and using the <a href="../../components/latest/properties-component.html" class="page">Properties</a> component, you may want to be able to provide the properties to be used from directly within the unit test source code. This is now possible from Camel 2.10, as the Camel test kits, e.g., <code>CamelTestSupport</code> class offers the following methods</p> </div> <div class="ulist"> <ul> <li> <p><code>useOverridePropertiesWithPropertiesComponent</code></p> </li> <li> <p><code>ignoreMissingLocationWithPropertiesComponent</code></p> </li> </ul> </div> <div class="paragraph"> <p>So for example in your unit test classes, you can override the <code>useOverridePropertiesWithPropertiesComponent</code> method and return a <code>java.util.Properties</code> that contains the properties which should be preferred to be used.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Override
protected Properties useOverridePropertiesWithPropertiesComponent() {
    Properties extra = new Properties();
    extra.put("destination", "mock:extra");
    extra.put("greeting", "Bye");
    return extra;
}</code></pre> </div> </div> <div class="paragraph"> <p>This can be done from any of the Camel Test kits, such as <code>camel-test</code>, <code>camel-test-spring</code> and <code>camel-test-blueprint</code>.</p> </div> <div class="paragraph"> <p>The <code>ignoreMissingLocationWithPropertiesComponent</code> can be used to instruct Camel to ignore any locations which was not discoverable. For example if you run the unit test, in an environment that does not have access to the location of the properties.</p> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-UsingPropertyInject"><a class="anchor" href="#UsingPropertyPlaceholder-UsingPropertyInject"></a>Using <code>@PropertyInject</code></h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.12</strong></p> </div> <div class="paragraph"> <p>Camel allows to inject property placeholders in POJOs using the <code>@PropertyInject</code> annotation which can be set on fields and setter methods. For example you can use that with <code>RouteBuilder</code> classes, such as shown below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class MyRouteBuilder extends RouteBuilder {

    @PropertyInject("hello")
    private String greeting;

    @Override
    public void configure() throws Exception {
        from("direct:start")
            .transform().constant(greeting)
            .to("{{result}}");
    }
}</code></pre> </div> </div> <div class="paragraph"> <p>Notice we have annotated the greeting field with <code>@PropertyInject</code> and define it to use the key <code>hello</code>. Camel will then lookup the property with this key and inject its value, converted to a String type.</p> </div> <div class="paragraph"> <p>You can also use multiple placeholders and text in the key, for example we can do:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@PropertyInject("Hello {{name}} how are you?")
private String greeting;</code></pre> </div> </div> <div class="paragraph"> <p>This will lookup the placeholder with they key <code>name</code>.</p> </div> <div class="paragraph"> <p>You can also add a default value if the key does not exists, such as:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@PropertyInject(value = "myTimeout", defaultValue = "5000")
private int timeout;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-UsingOutoftheBoxFunctions"><a class="anchor" href="#UsingPropertyPlaceholder-UsingOutoftheBoxFunctions"></a>Using Out of the Box Functions</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.14.1</strong></p> </div> <div class="paragraph"> <p>The <a href="../../components/latest/properties-component.html" class="page">Properties</a> component includes the following functions out of the box</p> </div> <div class="ulist"> <ul> <li> <p><code>env</code> - A function to lookup the property from OS environment variables.</p> </li> <li> <p><code>sys</code> - A function to lookup the property from Java JVM system properties.</p> </li> <li> <p><code>service</code> - A function to lookup the property from OS environment variables using the service naming idiom.</p> </li> <li> <p><code>service.host</code> - <strong>Camel 2.16.1: </strong>A function to lookup the property from OS environment variables using the service naming idiom returning the hostname part only.</p> </li> <li> <p><code>service.port</code> - <strong>Camel 2.16.1: </strong>A function to lookup the property from OS environment variables using the service naming idiom returning the port part only.</p> </li> </ul> </div> <div class="paragraph"> <p>As you can see these functions is intended to make it easy to lookup values from the environment. As they are provided out of the box, they can easily be used as shown below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;camelContext xmlns="http://camel.apache.org/schema/blueprint"&gt;
    &lt;route&gt;
        &lt;from uri="direct:start"/&gt;
        &lt;to uri="{{env:SOMENAME}}"/&gt;
        &lt;to uri="{{sys:MyJvmPropertyName}}"/&gt;
    &lt;/route&gt;
&lt;/camelContext&gt;</code></pre> </div> </div> <div class="paragraph"> <p>You can use default values as well, so if the property does not exists, you can define a default value as shown below, where the default value is a <code>log:foo</code> and <code>log:bar</code> value.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;camelContext xmlns="http://camel.apache.org/schema/blueprint"&gt;
    &lt;route&gt;
        &lt;from uri="direct:start"/&gt;
        &lt;to uri="{{env:SOMENAME:log:foo}}"/&gt;
        &lt;to uri="{{sys:MyJvmPropertyName:log:bar}}"/&gt;
    &lt;/route&gt;
&lt;/camelContext&gt;</code></pre> </div> </div> <div class="paragraph"> <p>The service function is for looking up a service which is defined using OS environment variables using the service naming idiom, to refer to a service location using <code>hostname : port</code></p> </div> <div class="ulist"> <ul> <li> <p><em>NAME</em>_SERVICE_HOST</p> </li> <li> <p><em>NAME</em>_SERVICE_PORT</p> </li> </ul> </div> <div class="paragraph"> <p>in other words the service uses <code>_SERVICE_HOST</code> and <code>_SERVICE_PORT</code> as prefix. So if the service is named <code>FOO</code>, then the OS environment variables should be set as</p> </div> <div class="paragraph"> <p>export $FOO_SERVICE_HOST=myserver export $FOO_SERVICE_PORT=8888</p> </div> <div class="paragraph"> <p>For example if the <code>FOO</code> service a remote HTTP service, then we can refer to the service in the Camel endpoint URI, and use the <a href="../../components/latest/http-component.html" class="page">HTTP</a> component to make the HTTP call:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;camelContext xmlns="http://camel.apache.org/schema/blueprint"&gt;
    &lt;route&gt;
        &lt;from uri="direct:start"/&gt;
        &lt;to uri="http://{{service:FOO}}/myapp"/&gt;
    &lt;/route&gt;
&lt;/camelContext&gt;</code></pre> </div> </div> <div class="paragraph"> <p>And we can use default values if the service has not been defined, for example to call a service on localhost, maybe for unit testing etc:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;camelContext xmlns="http://camel.apache.org/schema/blueprint"&gt;
    &lt;route&gt;
        &lt;from uri="direct:start"/&gt;
        &lt;to uri="http://{{service:FOO:localhost:8080}}/myapp"/&gt;
    &lt;/route&gt;
&lt;/camelContext&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="UsingPropertyPlaceholder-UsingCustomFunctions"><a class="anchor" href="#UsingPropertyPlaceholder-UsingCustomFunctions"></a>Using Custom Functions</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.14.1</strong></p> </div> <div class="paragraph"> <p>The <a href="../../components/latest/properties-component.html" class="page">Properties</a> component allow to plugin 3rd party functions which can be used during parsing of the property placeholders. These functions are then able to do custom logic to resolve the placeholders, such as looking up in databases, do custom computations, or whatnot. The name of the function becomes the prefix used in the placeholder. This is best illustrated in the example code below</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="beerFunction" class="MyBeerFunction"/&gt;
&lt;camelContext xmlns="http://camel.apache.org/schema/blueprint"&gt;
    &lt;propertyPlaceholder id="properties" location="none" ignoreMissingLocation="true"&gt;
        &lt;propertiesFunction ref="beerFunction"/&gt;
    &lt;/propertyPlaceholder&gt;
    &lt;route&gt;
        &lt;from uri="direct:start"/&gt;
        &lt;to uri="{{beer:FOO}}"/&gt;
        &lt;to uri="{{beer:BAR}}"/&gt;
    &lt;/route&gt;
&lt;/camelContext&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Here we have a Camel XML route where we have defined the <code>&lt;propertyPlaceholder&gt;</code> to use a custom function, which we refer to be the bean id - e.g., the <code>beerFunction</code>. As the beer function uses <code>beer</code> as its name, then the placeholder syntax can trigger the beer function by starting with <code>beer:value</code>.</p> </div> <div class="paragraph"> <p>The implementation of the function is only two methods as shown below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public static final class MyBeerFunction implements PropertiesFunction {
    @Override
    public String getName() {
        return "beer";
    }
    @Override
    public String apply(String remainder) {
        return "mock:" + remainder.toLowerCase();
    }
}</code></pre> </div> </div> <div class="paragraph"> <p>The function must implement the <code>org.apache.camel.component.properties.PropertiesFunction</code> interface. The method <code>getName</code> is the name of the function, e.g., <code>beer</code>. And the <code>apply</code> method is where we implement the custom logic to do. As the sample code is from an unit test, it just returns a value to refer to a mock endpoint.</p> </div> <div class="paragraph"> <p>To register a custom function from Java code is as shown below:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">PropertiesComponent pc = context.getComponent("properties", PropertiesComponent.class);
pc.addFunction(new MyBeerFunction());</code></pre> </div> </div> </div> </div> </article> </main> </div> <footer> <div class="footer"> <figure class="logo"> <img src="../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <dl> <dt>Overview</dt> <dd><a href="../../news/">News</a></dd> <dd><a href="../../components/latest/">Components</a></dd> <dd><a href="../../download/">Download</a></dd> <dd><a href="../../docs/getting-started/">Getting started</a></dd> <dd><a href="../../manual/latest/faq.html">FAQ</a></dd> </dl> <dl> <dt>Community</dt> <dd><a href="../../community/support/">Support</a></dd> <dd><a href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a></dd> <dd><a href="../../community/user-stories/">User stories</a></dd> <dd><a href="../../community/articles/">Articles</a></dd> <dd><a href="../../community/books/">Books</a></dd> <dd><a href="../../community/team/">Team</a></dd> <dd><a href="../../community/camel-extra/">Camel extra</a></dd> </dl> <dl> <dt>About</dt> <dd><a href="../../acknowledgments/">Acknowledgments</a> </dd><dd><a target="_blank" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p> &copy; 2004-2019 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> </div> </footer> <script src="../../_/js/site-f4f4dbc142.js"></script> <script async src="../../_/js/vendor/highlight-54157f17f1.js"></script> <script async src="../../_/js/vendor/svg4everybody-195d47ce7d.js"></script> <script type="application/ld+json"> {
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Apache Camel",
  "url": "https://camel.apache.org",
  "sameAs": [
     "https://twitter.com/ApacheCamel"
  ],
  "logo": "../../_/img/logo-d.svg",
  "description": "Apache Camel  is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."
} </script> <script type="application/ld+json"> { 
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Apache Camel",
        "item": "https://camel.apache.org"
        },
        {
        "@type": "ListItem",
        "position": 2,
        "name": "User manual",
        "item": "https://camel.apache.org/manual/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 3,
        "name": "Using <code>PropertyPlaceholder</code>","item": "https://camel.apache.org/manual/latest/using-propertyplaceholder.html"}
        ]
    } </script> </body> </html> 