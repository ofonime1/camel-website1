<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>QuickFix Component - Apache Camel</title> <link rel="canonical" href="https://camel.apache.org/components/latest/quickfix-component.html"> <meta name="generator" content="Antora 2.1.0"> <link rel="stylesheet" href="../../_/css/site-1c739ae396.css"> <meta name="application-name" content="Apache Camel"> <link rel="manifest" href="../../site.webmanifest"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../.."><span>Apache Camel</span></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item" href="../../blog/">Blog</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Projects</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../projects/camel-k/">Camel K</a> <a class="navbar-item" href="../../projects/camel-quarkus/">Camel Quarkus</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Documentation</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../docs/getting-started/">Getting started</a> <a class="navbar-item" href="../../manual/latest/">User manual</a> <a class="navbar-item" href="../../components/latest/">Component reference</a> <a class="navbar-item" href="../../camel-k/latest/">Camel K</a> <a class="navbar-item" href="../../camel-quarkus/latest/">Camel Quarkus</a> <a class="navbar-item" href="../../manual/latest/enterprise-integration-patterns.html">Enterprise Integration Patterns</a> <a class="navbar-item" href="../../manual/latest/camel-3-migration-guide.html">Camel 3 Migration Guide</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a> <a class="navbar-item" href="../../community/user-stories/">User stories</a> <a class="navbar-item" href="../../community/articles/">Articles</a> <a class="navbar-item" href="../../community/books/">Books</a> <a class="navbar-item" href="../../community/team/">Team</a> </div> </div> <a class="navbar-item" href="../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">About</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event.html">Apache events</a> <a class="navbar-item" href="https://www.apache.org/licenses/">License</a> <a class="navbar-item" href="../../security/">Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a> </div> </div> </div> </div> <div class="navbar-tools"> <a href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#github"/></svg></a> <a href="https://gitter.im/apache/apache-camel" title="Chat on Gitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#gitter"/></svg></a> <a href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#twitter"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <div class="body"> <div class="nav-container" data-component="components" data-version="latest"> <aside class="nav"> <div class="panels"> <div class="nav-panel-explore is-active" data-panel="explore"> <div class="context"> <span class="title">Component reference</span> <span class="version">latest</span> </div> <ul class="components"> <li class="component"> <span class="title">Apache Camel extensions for Quarkus</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-quarkus/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Apache Camel K</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-k/latest/index.html">latest</a> </li> </ul> </li> <li class="component is-current"> <span class="title">Component reference</span> <ul class="versions"> <li class="version is-current is-latest"> <a href="index.html">latest</a> </li> <li class="version"> <a href="../2.x/index.html">2.x</a> </li> </ul> </li> <li class="component"> <span class="title">User manual</span> <ul class="versions"> <li class="version is-latest"> <a href="../../manual/latest/index.html">latest</a> </li> </ul> </li> </ul> </div> </div> </aside> </div> <main role="main"> <div class="toolbar" role="navigation"> <button class="nav-toggle"></button> <a href="../../manual/latest/index.html" class="home-link"></a> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="index.html">Component reference</a></li> <li><a href="quickfix-component.html">QuickFix Component</a></li> </ul> </nav> <div class="page-versions"> <button class="version-menu-toggle" title="Show other versions of page" type="button">latest</button> <div class="version-menu"> <a class="version is-current" href="quickfix-component.html">latest</a> <a class="version" href="../2.x/quickfix-component.html">2.x</a> </div> </div> <div class="edit-this-page"><a href="https://github.com/apache/camel/edit/master/components/camel-quickfix/src/main/docs/quickfix-component.adoc">Edit this Page</a></div> </div> <article class="doc"> <h1 class="page">QuickFix Component</h1> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel version 2.1</strong></p> </div> <div class="paragraph"> <p>The Quickfix component adapts the <a href="http://www.quickfixj.org/">QuickFIX/J</a> FIX engine for using in Camel . This component uses the standard <a href="http://www.fixprotocol.org/">Financial Interchange (FIX) protocol</a> for message transport.</p> </div> <div class="paragraph"> <p>Maven users will need to add the following dependency to their <code>pom.xml</code> for this component:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-quickfix&lt;/artifactId&gt;
    &lt;version&gt;x.x.x&lt;/version&gt;
    &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_uri_format"><a class="anchor" href="#_uri_format"></a>URI format</h2> <div class="sectionbody"> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code>quickfix:configFile[?sessionID=sessionID&amp;lazyCreateEngine=true|false]</code></pre> </div> </div> <div class="paragraph"> <p>The <strong>configFile</strong> is the name of the QuickFIX/J configuration to use for the FIX engine (located as a resource found in your classpath). The optional <strong>sessionID</strong> identifies a specific FIX session. The format of the sessionID is:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code>(BeginString):(SenderCompID)[/(SenderSubID)[/(SenderLocationID)]]-&gt;(TargetCompID)[/(TargetSubID)[/(TargetLocationID)]]</code></pre> </div> </div> <div class="paragraph"> <p>The optional <strong>lazyCreateEngine</strong> parameter allows to create QuickFIX/J engine on demand. Value <strong>true</strong> means the engine is started when first message is send or there&#8217;s consumer configured in route definition. When <strong>false</strong> value is used, the engine is started at the endpoint creation. When this parameter is missing, the value of component&#8217;s property <strong>lazyCreateEngines</strong> is being used.</p> </div> <div class="paragraph"> <p>Example URIs:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code>quickfix:config.cfg

quickfix:config.cfg?sessionID=FIX.4.2:MyTradingCompany-&gt;SomeExchange

quickfix:config.cfg?sessionID=FIX.4.2:MyTradingCompany-&gt;SomeExchange&amp;lazyCreateEngine=true</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_endpoints"><a class="anchor" href="#_endpoints"></a>Endpoints</h2> <div class="sectionbody"> <div class="paragraph"> <p>FIX sessions are endpoints for the <strong>quickfix</strong> component. An endpoint URI may specify a single session or all sessions managed by a specific QuickFIX/J engine. Typical applications will use only one FIX engine but advanced users may create multiple FIX engines by referencing different configuration files in <strong>quickfix</strong> component endpoint URIs.</p> </div> <div class="paragraph"> <p>When a consumer does not include a session ID in the endpoint URI, it will receive exchanges for all sessions managed by the FIX engine associated with the configuration file specified in the URI. If a producer does not specify a session in the endpoint URI then it must include the session-related fields in the FIX message being sent. If a session is specified in the URI then the component will automatically inject the session-related fields into the FIX message.</p> </div> </div> </div> <div class="sect1"> <h2 id="_options"><a class="anchor" href="#_options"></a>Options</h2> <div class="sectionbody"> <div class="paragraph"> <p>The QuickFix component supports 6 options, which are listed below.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>messageFactory</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the given MessageFactory</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">MessageFactory</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>logFactory</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the given LogFactory</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">LogFactory</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>messageStoreFactory</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the given MessageStoreFactory</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">MessageStoreFactory</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>configurations</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the given map of pre configured QuickFix configurations mapped to the key</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lazyCreateEngines</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">If set to true, the engines will be created and started when needed (when first message is send)</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>basicPropertyBinding</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the component should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>The QuickFix endpoint is configured using URI syntax:</p> </div> <div class="listingblock"> <div class="content"> <pre>quickfix:configurationName</pre> </div> </div> <div class="paragraph"> <p>with the following path and query parameters:</p> </div> <div class="sect2"> <h3 id="_path_parameters_1_parameters"><a class="anchor" href="#_path_parameters_1_parameters"></a>Path Parameters (1 parameters):</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>configurationName</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required</strong> The configFile is the name of the QuickFIX/J configuration to use for the FIX engine (located as a resource found in your classpath).</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_query_parameters_8_parameters"><a class="anchor" href="#_query_parameters_8_parameters"></a>Query Parameters (8 parameters):</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lazyCreateEngine</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">This option allows to create QuickFIX/J engine on demand. Value true means the engine is started when first message is send or there&#8217;s consumer configured in route definition. When false value is used, the engine is started at the endpoint creation. When this parameter is missing, the value of component&#8217;s property lazyCreateEngines is being used.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sessionID</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The optional sessionID identifies a specific FIX session. The format of the sessionID is: (BeginString):(SenderCompID)/(SenderSubID)/(SenderLocationID)-(TargetCompID)/(TargetSubID)/(TargetLocationID)</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">SessionID</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bridgeErrorHandler</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Allows for bridging the consumer to the Camel routing Error Handler, which mean any exceptions occurred while the consumer is trying to pickup incoming messages, or the likes, will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exceptionHandler</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this option is not in use. By default the consumer will deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">ExceptionHandler</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exchangePattern</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the exchange pattern when the consumer creates an exchange.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">ExchangePattern</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lazyStartProducer</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the producer should be started lazy (on the first message). By starting lazy you can use this to allow CamelContext and routes to startup in situations where a producer may otherwise fail during starting and cause the route to fail being started. By deferring this startup to be lazy then the startup failure can be handled during routing messages via Camel&#8217;s routing error handlers. Beware that when the first message is processed then creating and starting the producer may take a little time and prolong the total processing time of the processing.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>basicPropertyBinding</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the endpoint should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>synchronous</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets whether synchronous processing should be strictly used, or Camel is allowed to use asynchronous processing (if supported).</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> </tbody> </table></div> </div> </div> </div> <div class="sect1"> <h2 id="_spring_boot_auto_configuration"><a class="anchor" href="#_spring_boot_auto_configuration"></a>Spring Boot Auto-Configuration</h2> <div class="sectionbody"> <div class="paragraph"> <p>When using Spring Boot make sure to use the following Maven dependency to have support for auto configuration:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-quickfix-starter&lt;/artifactId&gt;
  &lt;version&gt;x.x.x&lt;/version&gt;
  &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</code></pre> </div> </div> <div class="paragraph"> <p>The component supports 7 options, which are listed below.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quickfix.basic-property-binding</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the component should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quickfix.configurations</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the given map of pre configured QuickFix configurations mapped to the key</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Map</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quickfix.enabled</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Enable quickfix component</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quickfix.lazy-create-engines</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">If set to true, the engines will be created and started when needed (when first message is send)</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quickfix.log-factory</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the given LogFactory. The option is a quickfix.LogFactory type.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quickfix.message-factory</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the given MessageFactory. The option is a quickfix.MessageFactory type.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.quickfix.message-store-factory</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To use the given MessageStoreFactory. The option is a quickfix.MessageStoreFactory type.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> </tbody> </table></div> </div> </div> <div class="sect1"> <h2 id="_exchange_format"><a class="anchor" href="#_exchange_format"></a>Exchange Format</h2> <div class="sectionbody"> <div class="paragraph"> <p>The exchange headers include information to help with exchange filtering, routing and other processing. The following headers are available:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Header Name</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">EventCategory</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">One of <code>AppMessageReceived</code>, <code>AppMessageSent</code>, <code>AdminMessageReceived</code>, <code>AdminMessageSent</code>, <code>SessionCreated</code>, <code>SessionLogon</code>, <code>SessionLogoff</code>. See the <code>QuickfixjEventCategory</code> enum.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">SessionID</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The FIX message SessionID</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">MessageType</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The FIX MsgType tag value</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">DataDictionary</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a data dictionary to used for parsing an incoming message. Can be an instance of a data dictionary or a resource path for a QuickFIX/J data dictionary file</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>The DataDictionary header is useful if string messages are being received and need to be parsed in a route. QuickFIX/J requires a data dictionary to parse certain types of messages (with repeating groups, for example). By injecting a DataDictionary header in the route after receiving a message string, the FIX engine can properly parse the data.</p> </div> </div> </div> <div class="sect1"> <h2 id="_quickfixj_configuration_extensions"><a class="anchor" href="#_quickfixj_configuration_extensions"></a>QuickFIX/J Configuration Extensions</h2> <div class="sectionbody"> <div class="paragraph"> <p>When using QuickFIX/J directly, one typically writes code to create instances of logging adapters, message stores and communication connectors. The <strong>quickfix</strong> component will automatically create instances of these classes based on information in the configuration file. It also provides defaults for many of the common required settings and adds additional capabilities (like the ability to activate JMX support).</p> </div> <div class="paragraph"> <p>The following sections describe how the <strong>quickfix</strong> component processes the QuickFIX/J configuration. For comprehensive information about QuickFIX/J configuration, see the <a href="http://www.quickfixj.org/quickfixj/usermanual/usage/configuration.html">QFJ user manual</a>.</p> </div> <div class="sect2"> <h3 id="_communication_connectors"><a class="anchor" href="#_communication_connectors"></a>Communication Connectors</h3> <div class="paragraph"> <p>When the component detects an initiator or acceptor session setting in the QuickFIX/J configuration file it will automatically create the corresponding initiator and/or acceptor connector. These settings can be in the default or in a specific session section of the configuration file.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Session Setting</th> <th class="tableblock halign-left valign-top">Component Action</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionType=initiator</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Create an initiator connector</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>ConnectionType=acceptor</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Create an acceptor connector</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>The threading model for the QuickFIX/J session connectors can also be specified. These settings affect all sessions in the configuration file and must be placed in the settings default section.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Default/Global Setting</th> <th class="tableblock halign-left valign-top">Component Action</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>ThreadModel=ThreadPerConnector</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use <code>SocketInitiator</code> or <code>SocketAcceptor</code> (default)</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>ThreadModel=ThreadPerSession</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use <code>ThreadedSocketInitiator</code> or <code>ThreadedSocketAcceptor</code></p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_logging"><a class="anchor" href="#_logging"></a>Logging</h3> <div class="paragraph"> <p>The QuickFIX/J logger implementation can be specified by including the following settings in the default section of the configuration file. The <code>ScreenLog</code> is the default if none of the following settings are present in the configuration. It&#8217;s an error to include settings that imply more than one log implementation. The log factory implementation can also be set directly on the Quickfix component. This will override any related values in the QuickFIX/J settings file.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Default/Global Setting</th> <th class="tableblock halign-left valign-top">Component Action</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>ScreenLogShowEvents</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>ScreenLog</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>ScreenLogShowIncoming</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>ScreenLog</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>ScreenLogShowOutgoing</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>ScreenLog</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>SLF4J*</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>SLF4JLog</code>. Any of the SLF4J settings will cause this log to be used.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>FileLogPath</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>FileLog</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>JdbcDriver</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>JdbcLog</code></p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_message_store"><a class="anchor" href="#_message_store"></a>Message Store</h3> <div class="paragraph"> <p>The QuickFIX/J message store implementation can be specified by including the following settings in the default section of the configuration file. The <code>MemoryStore</code> is the default if none of the following settings are present in the configuration. It&#8217;s an error to include settings that imply more than one message store implementation. The message store factory implementation can also be set directly on the Quickfix component. This will override any related values in the QuickFIX/J settings file.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Default/Global Setting</th> <th class="tableblock halign-left valign-top">Component Action</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>JdbcDriver</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>JdbcStore</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>FileStorePath</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>FileStore</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>SleepycatDatabaseDir</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use a <code>SleepcatStore</code></p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_message_factory"><a class="anchor" href="#_message_factory"></a>Message Factory</h3> <div class="paragraph"> <p>A message factory is used to construct domain objects from raw FIX messages. The default message factory is <code>DefaultMessageFactory</code>. However, advanced applications may require a custom message factory. This can be set on the QuickFIX/J component.</p> </div> </div> <div class="sect2"> <h3 id="_jmx"><a class="anchor" href="#_jmx"></a>JMX</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Default/Global Setting</th> <th class="tableblock halign-left valign-top">Component Action</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>UseJmx</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">if <code>Y</code>, then enable QuickFIX/J JMX</p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_other_defaults"><a class="anchor" href="#_other_defaults"></a>Other Defaults</h3> <div class="paragraph"> <p>The component provides some default settings for what are normally required settings in QuickFIX/J configuration files. <code>SessionStartTime</code> and <code>SessionEndTime</code> default to "00:00:00", meaning the session will not be automatically started and stopped. The <code>HeartBtInt</code> (heartbeat interval) defaults to 30 seconds.</p> </div> </div> <div class="sect2"> <h3 id="_minimal_initiator_configuration_example"><a class="anchor" href="#_minimal_initiator_configuration_example"></a>Minimal Initiator Configuration Example</h3> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code>[SESSION]
ConnectionType=initiator
BeginString=FIX.4.4
SenderCompID=YOUR_SENDER
TargetCompID=YOUR_TARGET</code></pre> </div> </div> </div> </div> </div> <div class="sect1"> <h2 id="_using_the_inout_message_exchange_pattern"><a class="anchor" href="#_using_the_inout_message_exchange_pattern"></a>Using the InOut Message Exchange Pattern</h2> <div class="sectionbody"> <div class="paragraph"> <p>Although the FIX protocol is event-driven and asynchronous, there are specific pairs of messages that represent a request-reply message exchange. To use an InOut exchange pattern, there should be a single request message and single reply message to the request. Examples include an OrderStatusRequest message and UserRequest.</p> </div> <div class="sect2"> <h3 id="_implementing_inout_exchanges_for_consumers"><a class="anchor" href="#_implementing_inout_exchanges_for_consumers"></a>Implementing InOut Exchanges for Consumers</h3> <div class="paragraph"> <p>Add "exchangePattern=InOut" to the QuickFIX/J enpoint URI. The <code>MessageOrderStatusService</code> in the example below is a bean with a synchronous service method. The method returns the response to the request (an ExecutionReport in this case) which is then sent back to the requestor session.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    from("quickfix:examples/inprocess.cfg?sessionID=FIX.4.2:MARKET-&gt;TRADER&amp;exchangePattern=InOut")
        .filter(header(QuickfixjEndpoint.MESSAGE_TYPE_KEY).isEqualTo(MsgType.ORDER_STATUS_REQUEST))
        .bean(new MarketOrderStatusService());</code></pre> </div> </div> </div> <div class="sect2"> <h3 id="_implementing_inout_exchanges_for_producers"><a class="anchor" href="#_implementing_inout_exchanges_for_producers"></a>Implementing InOut Exchanges for Producers</h3> <div class="paragraph"> <p>For producers, sending a message will block until a reply is received or a timeout occurs. There is no standard way to correlate reply messages in FIX. Therefore, a correlation criteria must be defined for each type of InOut exchange. The correlation criteria and timeout can be specified using <code>Exchange</code> properties.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-left valign-top">Key String</th> <th class="tableblock halign-left valign-top">Key Constant</th> <th class="tableblock halign-left valign-top">Default</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">Correlation Criteria</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">"CorrelationCriteria"</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">QuickfixjProducer.CORRELATION_CRITERIA_KEY</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">Correlation Timeout in Milliseconds</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">"CorrelationTimeout"</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">QuickfixjProducer.CORRELATION_TIMEOUT_KEY</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">1000</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>The correlation criteria is defined with a <code>MessagePredicate</code> object. The following example will treat a FIX ExecutionReport from the specified session where the transaction type is STATUS and the Order ID matches our request. The session ID should be for the <em>requestor</em>, the sender and target CompID fields will be reversed when looking for the reply.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">exchange.setProperty(QuickfixjProducer.CORRELATION_CRITERIA_KEY,
    new MessagePredicate(new SessionID(sessionID), MsgType.EXECUTION_REPORT)
        .withField(ExecTransType.FIELD, Integer.toString(ExecTransType.STATUS))
        .withField(OrderID.FIELD, request.getString(OrderID.FIELD)));</code></pre> </div> </div> </div> <div class="sect2"> <h3 id="_example"><a class="anchor" href="#_example"></a>Example</h3> <div class="paragraph"> <p>The source code contains an example called <code>RequestReplyExample</code> that demonstrates the InOut exchanges for a consumer and producer. This example creates a simple HTTP server endpoint that accepts order status requests. The HTTP request is converted to a FIX OrderStatusRequestMessage, is augmented with a correlation criteria, and is then routed to a quickfix endpoint. The response is then converted to a JSON-formatted string and sent back to the HTTP server endpoint to be provided as the web response.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="_spring_configuration"><a class="anchor" href="#_spring_configuration"></a>Spring Configuration</h2> <div class="sectionbody"> <div class="paragraph"> <p>The QuickFIX/J component includes a Spring <code>FactoryBean</code> for configuring the session settings within a Spring context. A type converter for QuickFIX/J session ID strings is also included. The following example shows a simple configuration of an acceptor and initiator session with default settings for both sessions.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;!--  camel route  --&gt;
&lt;camelContext xmlns="http://camel.apache.org/schema/spring" id="quickfixjContext"&gt;
    &lt;route&gt;
        &lt;from uri="quickfix:example"/&gt;
        &lt;filter&gt;
            &lt;simple&gt;${in.header.EventCategory} == 'AppMessageReceived'&lt;/simple&gt;
            &lt;to uri="log:test"/&gt;
        &lt;/filter&gt;
    &lt;/route&gt;
&lt;/camelContext&gt;
        &lt;!--  quickfix component  --&gt;
&lt;bean id="quickfix" class="org.apache.camel.component.quickfixj.QuickfixjComponent"&gt;
&lt;property name="engineSettings"&gt;
    &lt;util:map&gt;
        &lt;entry key="quickfix:example" value-ref="quickfixjSettings"/&gt;
    &lt;/util:map&gt;
&lt;/property&gt;
&lt;property name="messageFactory"&gt;
    &lt;bean class="org.apache.camel.component.quickfixj.QuickfixjSpringTest.CustomMessageFactory"/&gt;
&lt;/property&gt;
&lt;/bean&gt;
        &lt;!--  quickfix settings  --&gt;
&lt;bean id="quickfixjSettings" class="org.apache.camel.component.quickfixj.QuickfixjSettingsFactory"&gt;
&lt;property name="defaultSettings"&gt;
    &lt;util:map&gt;
        &lt;entry key="SocketConnectProtocol" value="VM_PIPE"/&gt;
        &lt;entry key="SocketAcceptProtocol" value="VM_PIPE"/&gt;
        &lt;entry key="UseDataDictionary" value="N"/&gt;
    &lt;/util:map&gt;
&lt;/property&gt;
&lt;property name="sessionSettings"&gt;
    &lt;util:map&gt;
        &lt;entry key="FIX.4.2:INITIATOR-&gt;ACCEPTOR"&gt;
            &lt;util:map&gt;
                &lt;entry key="ConnectionType" value="initiator"/&gt;
                &lt;entry key="SocketConnectHost" value="localhost"/&gt;
                &lt;entry key="SocketConnectPort" value="5000"/&gt;
            &lt;/util:map&gt;
        &lt;/entry&gt;
        &lt;entry key="FIX.4.2:ACCEPTOR-&gt;INITIATOR"&gt;
            &lt;util:map&gt;
                &lt;entry key="ConnectionType" value="acceptor"/&gt;
                &lt;entry key="SocketAcceptPort" value="5000"/&gt;
            &lt;/util:map&gt;
        &lt;/entry&gt;
    &lt;/util:map&gt;
&lt;/property&gt;
&lt;/bean&gt;</code></pre> </div> </div> <div class="paragraph"> <p>The QuickFIX/J component includes a <code>QuickfixjConfiguration</code> class for configuring the session settings. A type converter for QuickFIX/J session ID strings is also included. The following example shows a simple configuration of an acceptor and initiator session with default settings for both sessions.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">    &lt;!-- camel route --&gt;
    &lt;camelContext id="quickfixjContext" xmlns="http://camel.apache.org/schema/spring"&gt;
        &lt;route&gt;
            &lt;from uri="quickfix:example"/&gt;
            &lt;filter&gt;
                &lt;simple&gt;${in.header.EventCategory} == 'AppMessageReceived'&lt;/simple&gt;
                &lt;to uri="log:test"/&gt;
            &lt;/filter&gt;
        &lt;/route&gt;
        &lt;route&gt;
            &lt;from uri="vm:test"/&gt;
            &lt;to uri="lazyQuickfix:example"/&gt;
        &lt;/route&gt;
    &lt;/camelContext&gt;

    &lt;!-- quickfix component --&gt;
    &lt;bean id="quickfix" class="org.apache.camel.component.quickfixj.QuickfixjComponent"&gt;
        &lt;property name="configurations"&gt;
            &lt;util:map&gt;
                &lt;entry key="example" value-ref="quickfixjConfiguration"/&gt;
            &lt;/util:map&gt;
        &lt;/property&gt;
        &lt;property name="messageFactory"&gt;
            &lt;bean class="org.apache.camel.component.quickfixj.QuickfixjSpringTest.CustomMessageFactory"/&gt;
        &lt;/property&gt;
    &lt;/bean&gt;

    &lt;!-- lazy quickfix component --&gt;
    &lt;bean id="lazyQuickfix" class="org.apache.camel.component.quickfixj.QuickfixjComponent"&gt;
        &lt;property name="lazyCreateEngines" value="true" /&gt;
        &lt;property name="configurations"&gt;
            &lt;util:map&gt;
                &lt;entry key="example" value-ref="lazyQuickfixjConfiguration"/&gt;
            &lt;/util:map&gt;
        &lt;/property&gt;
        &lt;property name="messageFactory"&gt;
            &lt;bean class="org.apache.camel.component.quickfixj.QuickfixjSpringTest.CustomMessageFactory"/&gt;
        &lt;/property&gt;
    &lt;/bean&gt;

    &lt;!-- quickfix settings --&gt;
    &lt;bean id="quickfixjConfiguration" class="org.apache.camel.component.quickfixj.QuickfixjConfiguration"&gt;
        &lt;property name="defaultSettings"&gt;
            &lt;util:map&gt;
                &lt;entry key="SocketConnectProtocol" value="VM_PIPE"/&gt;
                &lt;entry key="SocketAcceptProtocol" value="VM_PIPE"/&gt;
                &lt;entry key="UseDataDictionary" value="N"/&gt;
            &lt;/util:map&gt;
        &lt;/property&gt;
        &lt;property name="sessionSettings"&gt;
            &lt;util:map&gt;
                &lt;entry key="FIX.4.2:INITIATOR-&gt;ACCEPTOR"&gt;
                    &lt;util:map&gt;
                        &lt;entry key="ConnectionType" value="initiator"/&gt;
                        &lt;entry key="SocketConnectHost" value="localhost"/&gt;
                        &lt;entry key="SocketConnectPort" value="5000"/&gt;
                    &lt;/util:map&gt;
                &lt;/entry&gt;
                &lt;entry key="FIX.4.2:ACCEPTOR-&gt;INITIATOR"&gt;
                    &lt;util:map&gt;
                        &lt;entry key="ConnectionType" value="acceptor"/&gt;
                        &lt;entry key="SocketAcceptPort" value="5000"/&gt;
                    &lt;/util:map&gt;
                &lt;/entry&gt;
            &lt;/util:map&gt;
        &lt;/property&gt;
    &lt;/bean&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_exception_handling"><a class="anchor" href="#_exception_handling"></a>Exception handling</h2> <div class="sectionbody"> <div class="paragraph"> <p>QuickFIX/J behavior can be modified if certain exceptions are thrown during processing of a message. If a <code>RejectLogon</code> exception is thrown while processing an incoming logon administrative message, then the logon will be rejected.</p> </div> <div class="paragraph"> <p>Normally, QuickFIX/J handles the logon process automatically. However, sometimes an outgoing logon message must be modified to include credentials required by a FIX counterparty. If the FIX logon message body is modified when sending a logon message (EventCategory=<code>AdminMessageSent</code> the modified message will be sent to the counterparty. It is important that the outgoing logon message is being processed <em>synchronously</em>. If it is processed asynchronously (on another thread), the FIX engine will immediately send the unmodified outgoing message when it&#8217;s callback method returns.</p> </div> </div> </div> <div class="sect1"> <h2 id="_fix_sequence_number_management"><a class="anchor" href="#_fix_sequence_number_management"></a>FIX Sequence Number Management</h2> <div class="sectionbody"> <div class="paragraph"> <p>If an application exception is thrown during <em>synchronous</em> exchange processing, this will cause QuickFIX/J to not increment incoming FIX message sequence numbers and will cause a resend of the counterparty message. This FIX protocol behavior is primarily intended to handle <em>transport</em> errors rather than application errors. There are risks associated with using this mechanism to handle application errors. The primary risk is that the message will repeatedly cause application errors each time it&#8217;s re-received. A better solution is to persist the incoming message (database, JMS queue) immediately before processing it. This also allows the application to process messages asynchronously without losing messages when errors occur.</p> </div> <div class="paragraph"> <p>Although it&#8217;s possible to send messages to a FIX session before it&#8217;s logged on (the messages will be sent at logon time), it is usually a better practice to wait until the session is logged on. This eliminates the required sequence number resynchronization steps at logon. Waiting for session logon can be done by setting up a route that processes the <code>SessionLogon</code> event category and signals the application to start sending messages.</p> </div> <div class="paragraph"> <p>See the FIX protocol specifications and the QuickFIX/J documentation for more details about FIX sequence number management.</p> </div> </div> </div> <div class="sect1"> <h2 id="_route_examples"><a class="anchor" href="#_route_examples"></a>Route Examples</h2> <div class="sectionbody"> <div class="paragraph"> <p>Several examples are included in the QuickFIX/J component source code (test subdirectories). One of these examples implements a trival trade excecution simulation. The example defines an application component that uses the URI scheme "trade-executor".</p> </div> <div class="paragraph"> <p>The following route receives messages for the trade executor session and passes application messages to the trade executor component.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("quickfix:examples/inprocess.cfg?sessionID=FIX.4.2:MARKET-&gt;TRADER").
    filter(header(QuickfixjEndpoint.EVENT_CATEGORY_KEY).isEqualTo(QuickfixjEventCategory.AppMessageReceived)).
    to("trade-executor:market");</code></pre> </div> </div> <div class="paragraph"> <p>The trade executor component generates messages that are routed back to the trade session. The session ID must be set in the FIX message itself since no session ID is specified in the endpoint URI.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("trade-executor:market").to("quickfix:examples/inprocess.cfg");</code></pre> </div> </div> <div class="paragraph"> <p>The trader session consumes execution report messages from the market and processes them.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("quickfix:examples/inprocess.cfg?sessionID=FIX.4.2:TRADER-&gt;MARKET").
    filter(header(QuickfixjEndpoint.MESSAGE_TYPE_KEY).isEqualTo(MsgType.EXECUTION_REPORT)).
    bean(new MyTradeExecutionProcessor());</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_quickfixj_component_prior_to_camel_2_5"><a class="anchor" href="#_quickfixj_component_prior_to_camel_2_5"></a>QuickFIX/J Component Prior to Camel 2.5</h2> <div class="sectionbody"> <div class="paragraph"> <p>The <strong>quickfix</strong> component is an implementation of the <a href="http://www.quickfixj.org/">QuickFIX/J</a> engine for Java . This engine allows to connect to a FIX server which is used to exchange financial messages according to <a href="http://www.fixprotocol.org/">FIX protocol</a> standard.</p> </div> <div class="paragraph"> <p><strong>Note:</strong> The component can be used to send/receives messages to a FIX server.</p> </div> </div> </div> <div class="sect1"> <h2 id="_uri_format_2"><a class="anchor" href="#_uri_format_2"></a>URI format</h2> <div class="sectionbody"> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code>quickfix-server:config file
quickfix-client:config file</code></pre> </div> </div> <div class="paragraph"> <p>Where <strong>config file</strong> is the location (in your classpath) of the quickfix configuration file used to configure the engine at the startup.</p> </div> <div class="paragraph"> <p><strong>Note:</strong> Information about parameters available for quickfix can be found on <a href="http://www.quickfixj.org/quickfixj/usermanual/usage/configuration.html">QuickFIX/J</a> web site.</p> </div> <div class="paragraph"> <p>The quickfix-server endpoint must be used to receive from FIX server FIX messages and quickfix-client endpoint in the case that you want to send messages to a FIX gateway.</p> </div> </div> </div> <div class="sect1"> <h2 id="_exchange_data_format"><a class="anchor" href="#_exchange_data_format"></a>Exchange data format</h2> <div class="sectionbody"> <div class="paragraph"> <p>The QuickFIX/J engine is like CXF component a messaging bus using MINA as protocol layer to create the socket connection with the FIX engine gateway.</p> </div> <div class="paragraph"> <p>When QuickFIX/J engine receives a message, then it create a QuickFix.Message instance which is next received by the camel endpoint. This object is a 'mapping object' created from a FIX message formatted initially as a collection of key value pairs data. You can use this object or you can use the method 'toString' to retrieve the original FIX message.</p> </div> <div class="paragraph"> <p><strong>Note:</strong> Alternatively, you can use <a href="bindy-dataformat.html" class="page">camel bindy dataformat</a> to transform the FIX message into your own java POJO</p> </div> <div class="paragraph"> <p>When a message must be send to QuickFix, then you must create a QuickFix.Message instance.</p> </div> </div> </div> <div class="sect1"> <h2 id="_lazy_creating_engines"><a class="anchor" href="#_lazy_creating_engines"></a>Lazy creating engines</h2> <div class="sectionbody"> <div class="paragraph"> <p>You can configure the QuickFixComponent to lazy create and start the engines, which then only start these on-demand. For example you can use this when you have multiple Camel applications in a cluster with master/slaves. And want the slaves to be standby.</p> </div> </div> </div> <div class="sect1"> <h2 id="_samples"><a class="anchor" href="#_samples"></a>Samples</h2> <div class="sectionbody"> <div class="paragraph"> <p>Direction : to FIX gateway</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
  &lt;from uri="activemq:queue:fix"/&gt;
  &lt;bean ref="fixService" method="createFixMessage"/&gt; // bean method in charge to transform message into a QuickFix.Message
  &lt;to uri="quickfix-client:META-INF/quickfix/client.cfg"/&gt; // Quickfix engine who will send the FIX messages to the gateway
&lt;/route&gt;</code></pre> </div> </div> <div class="paragraph"> <p>Direction : from FIX gateway</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
  &lt;from uri="quickfix-server:META-INF/quickfix/server.cfg"/&gt; // QuickFix engine who will receive the message from FIX gateway
  &lt;bean ref="fixService" method="parseFixMessage"/&gt; // bean method parsing the QuickFix.Message
  &lt;to uri="uri="activemq:queue:fix"/&gt;"
&lt;/route&gt;</code></pre> </div> </div> </div> </div> </article> </main> </div> <footer> <div class="footer"> <figure class="logo"> <img src="../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <dl> <dt>Overview</dt> <dd><a href="../../blog/">Blog</a></dd> <dd><a href="../../components/latest/">Components</a></dd> <dd><a href="../../download/">Download</a></dd> <dd><a href="../../docs/getting-started/">Getting started</a></dd> <dd><a href="../../manual/latest/faq.html">FAQ</a></dd> </dl> <dl> <dt>Community</dt> <dd><a href="../../community/support/">Support</a></dd> <dd><a href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a></dd> <dd><a href="../../community/user-stories/">User stories</a></dd> <dd><a href="../../community/articles/">Articles</a></dd> <dd><a href="../../community/books/">Books</a></dd> <dd><a href="../../community/team/">Team</a></dd> </dl> <dl> <dt>About</dt> <dd><a href="../../acknowledgments/">Acknowledgments</a> </dd><dd><a target="_blank" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p> &copy; 2004-2019 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> </div> </footer> <script src="../../_/js/site-f4f4dbc142.js"></script> <script async src="../../_/js/vendor/highlight-54157f17f1.js"></script> <script async src="../../_/js/vendor/svg4everybody-195d47ce7d.js"></script> <script type="application/ld+json"> {
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Apache Camel",
  "url": "https://camel.apache.org",
  "sameAs": [
     "https://twitter.com/ApacheCamel"
  ],
  "logo": "../../_/img/logo-d.svg",
  "description": "Apache Camel  is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."
} </script> <script type="application/ld+json"> { 
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Apache Camel",
        "item": "https://camel.apache.org"
        },
        {
        "@type": "ListItem",
        "position": 2,
        "name": "Component reference",
        "item": "https://camel.apache.org/components/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 3,
        "name": "QuickFix Component","item": "https://camel.apache.org/components/latest/quickfix-component.html"}
        ]
    } </script> </body> </html> 