<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>Spring WebService Component - Apache Camel</title> <link rel="canonical" href="https://camel.apache.org/components/latest/spring-ws-component.html"> <meta name="generator" content="Antora 2.1.0"> <link rel="stylesheet" href="../../_/css/site-1c739ae396.css"> <meta name="application-name" content="Apache Camel"> <link rel="manifest" href="../../site.webmanifest"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../.."><span>Apache Camel</span></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item" href="../../blog/">Blog</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Projects</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../projects/camel-k/">Camel K</a> <a class="navbar-item" href="../../projects/camel-quarkus/">Camel Quarkus</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Documentation</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../docs/getting-started/">Getting started</a> <a class="navbar-item" href="../../manual/latest/">User manual</a> <a class="navbar-item" href="../../components/latest/">Component reference</a> <a class="navbar-item" href="../../camel-k/latest/">Camel K</a> <a class="navbar-item" href="../../camel-quarkus/latest/">Camel Quarkus</a> <a class="navbar-item" href="../../manual/latest/enterprise-integration-patterns.html">Enterprise Integration Patterns</a> <a class="navbar-item" href="../../manual/latest/camel-3-migration-guide.html">Camel 3 Migration Guide</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a> <a class="navbar-item" href="../../community/user-stories/">User stories</a> <a class="navbar-item" href="../../community/articles/">Articles</a> <a class="navbar-item" href="../../community/books/">Books</a> <a class="navbar-item" href="../../community/team/">Team</a> </div> </div> <a class="navbar-item" href="../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">About</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event.html">Apache events</a> <a class="navbar-item" href="https://www.apache.org/licenses/">License</a> <a class="navbar-item" href="../../security/">Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a> </div> </div> </div> </div> <div class="navbar-tools"> <a href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#github"/></svg></a> <a href="https://gitter.im/apache/apache-camel" title="Chat on Gitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#gitter"/></svg></a> <a href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#twitter"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <div class="body"> <div class="nav-container" data-component="components" data-version="latest"> <aside class="nav"> <div class="panels"> <div class="nav-panel-explore is-active" data-panel="explore"> <div class="context"> <span class="title">Component reference</span> <span class="version">latest</span> </div> <ul class="components"> <li class="component"> <span class="title">Apache Camel extensions for Quarkus</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-quarkus/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Apache Camel K</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-k/latest/index.html">latest</a> </li> </ul> </li> <li class="component is-current"> <span class="title">Component reference</span> <ul class="versions"> <li class="version is-current is-latest"> <a href="index.html">latest</a> </li> <li class="version"> <a href="../2.x/index.html">2.x</a> </li> </ul> </li> <li class="component"> <span class="title">User manual</span> <ul class="versions"> <li class="version is-latest"> <a href="../../manual/latest/index.html">latest</a> </li> </ul> </li> </ul> </div> </div> </aside> </div> <main role="main"> <div class="toolbar" role="navigation"> <button class="nav-toggle"></button> <a href="../../manual/latest/index.html" class="home-link"></a> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="index.html">Component reference</a></li> <li><a href="spring-ws-component.html">Spring WebService Component</a></li> </ul> </nav> <div class="page-versions"> <button class="version-menu-toggle" title="Show other versions of page" type="button">latest</button> <div class="version-menu"> <a class="version is-current" href="spring-ws-component.html">latest</a> <a class="version" href="../2.x/spring-ws-component.html">2.x</a> </div> </div> <div class="edit-this-page"><a href="https://github.com/apache/camel/edit/master/components/camel-spring-ws/src/main/docs/spring-ws-component.adoc">Edit this Page</a></div> </div> <article class="doc"> <h1 class="page">Spring WebService Component</h1> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel version 2.6</strong></p> </div> <div class="paragraph"> <p>The Spring WS component allows you to integrate with <a href="http://static.springsource.org/spring-ws/sites/1.5/">Spring Web Services</a>. It offers both <em>client</em>-side support, for accessing web services, and <em>server</em>-side support for creating your own contract-first web services.</p> </div> <div class="paragraph"> <p>Maven users will need to add the following dependency to their <code>pom.xml</code> for this component:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-spring-ws&lt;/artifactId&gt;
    &lt;version&gt;x.x.x&lt;/version&gt;
    &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</code></pre> </div> </div> <div class="admonitionblock note"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <div class="paragraph"> <p><strong>Dependencies</strong></p> </div> <div class="paragraph"> <p>This component ships with Spring-WS 2.0.x which (like the rest of Camel) requires Spring 3.0.x. In order to run earlier versions of <code>camel-spring-ws</code> on Spring 2.5.x you need to add the <code>spring-webmvc</code> module from Spring 2.5.x. In order to run Spring-WS 1.5.9 on Spring 3.0.x you need to exclude the OXM module from Spring 3.0.x as this module is also included in Spring-WS 1.5.9 (see <a href="http://stackoverflow.com/questions/3313314/can-spring-ws-1-5-be-used-with-spring-3">this post</a>).</p> </div> </td> </tr> </table></div> </div> </div> </div> <div class="sect1"> <h2 id="_uri_format"><a class="anchor" href="#_uri_format"></a>URI format</h2> <div class="sectionbody"> <div class="paragraph"> <p>The URI scheme for this component is as follows</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">spring-ws:[mapping-type:]address[?options]</code></pre> </div> </div> <div class="paragraph"> <p>To expose a web service <strong>mapping-type</strong> needs to be set to any of the following:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Mapping type</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>rootqname</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Offers the option to map web service requests based on the qualified name of the root element contained in the message.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>soapaction</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Used to map web service requests based on the SOAP action specified in the header of the message.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>uri</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">In order to map web service requests that target a specific URI.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>xpathresult</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Used to map web service requests based on the evaluation of an XPath <code>expression</code> against the incoming message. The result of the evaluation should match the XPath result specified in the endpoint URI.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>beanname</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Allows you to reference an <code>org.apache.camel.component.spring.ws.bean.CamelEndpointDispatcher</code> object in order to integrate with existing (legacy) <a href="http://static.springsource.org/spring-ws/sites/1.5/reference/html/server.html#server-endpoint-mapping">endpoint mappings</a> like <code>PayloadRootQNameEndpointMapping</code>, <code>SoapActionEndpointMapping</code>, etc</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>As a consumer the <strong>address</strong> should contain a value relevant to the specified mapping-type (e.g. a SOAP action, XPath expression). As a producer the address should be set to the URI of the web service your calling upon.</p> </div> <div class="paragraph"> <p>You can append query <strong>options</strong> to the URI in the following format, <code>?option=value&amp;option=value&amp;&#8230;&#8203;</code></p> </div> </div> </div> <div class="sect1"> <h2 id="_options"><a class="anchor" href="#_options"></a>Options</h2> <div class="sectionbody"> <div class="paragraph"> <p>The Spring WebService component supports 2 options, which are listed below.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>useGlobalSslContext Parameters</strong> (security)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Enable usage of global SSL context parameters.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>basicPropertyBinding</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the component should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>The Spring WebService endpoint is configured using URI syntax:</p> </div> <div class="listingblock"> <div class="content"> <pre>spring-ws:type:lookupKey:webServiceEndpointUri</pre> </div> </div> <div class="paragraph"> <p>with the following path and query parameters:</p> </div> <div class="sect2"> <h3 id="_path_parameters_4_parameters"><a class="anchor" href="#_path_parameters_4_parameters"></a>Path Parameters (4 parameters):</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>type</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Endpoint mapping type if endpoint mapping is used. rootqname - Offers the option to map web service requests based on the qualified name of the root element contained in the message. soapaction - Used to map web service requests based on the SOAP action specified in the header of the message. uri - In order to map web service requests that target a specific URI. xpathresult - Used to map web service requests based on the evaluation of an XPath expression against the incoming message. The result of the evaluation should match the XPath result specified in the endpoint URI. beanname - Allows you to reference an org.apache.camel.component.spring.ws.bean.CamelEndpointDispatcher object in order to integrate with existing (legacy) endpoint mappings like PayloadRootQNameEndpointMapping, SoapActionEndpointMapping, etc</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">EndpointMappingType</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lookupKey</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Endpoint mapping key if endpoint mapping is used</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>webServiceEndpointUri</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The default Web Service endpoint uri to use for the producer.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>expression</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">The XPath expression to use when option type=xpathresult. Then this option is required to be configured.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_query_parameters_23_parameters"><a class="anchor" href="#_query_parameters_23_parameters"></a>Query Parameters (23 parameters):</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>messageFilter</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Option to provide a custom MessageFilter. For example when you want to process your headers or attachments by your own.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">MessageFilter</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bridgeErrorHandler</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Allows for bridging the consumer to the Camel routing Error Handler, which mean any exceptions occurred while the consumer is trying to pickup incoming messages, or the likes, will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>endpointDispatcher</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Spring org.springframework.ws.server.endpoint.MessageEndpoint for dispatching messages received by Spring-WS to a Camel endpoint, to integrate with existing (legacy) endpoint mappings like PayloadRootQNameEndpointMapping, SoapActionEndpointMapping, etc.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">CamelEndpointDispatcher</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>endpointMapping</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Reference to an instance of org.apache.camel.component.spring.ws.bean.CamelEndpointMapping in the Registry/ApplicationContext. Only one bean is required in the registry to serve all Camel/Spring-WS endpoints. This bean is auto-discovered by the MessageDispatcher and used to map requests to Camel endpoints based on characteristics specified on the endpoint (like root QName, SOAP action, etc)</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">CamelSpringWSEndpointMapping</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exceptionHandler</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this option is not in use. By default the consumer will deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">ExceptionHandler</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exchangePattern</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the exchange pattern when the consumer creates an exchange.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">ExchangePattern</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>allowResponseAttachment Override</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Option to override soap response attachments in in/out exchange with attachments from the actual service layer. If the invoked service appends or rewrites the soap attachments this option when set to true, allows the modified soap attachments to be overwritten in in/out message attachments</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>allowResponseHeaderOverride</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Option to override soap response header in in/out exchange with header info from the actual service layer. If the invoked service appends or rewrites the soap header this option when set to true, allows the modified soap header to be overwritten in in/out message headers</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>faultAction</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Signifies the value for the faultAction response WS-Addressing Fault Action header that is provided by the method.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>faultTo</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Signifies the value for the faultAction response WS-Addressing FaultTo header that is provided by the method.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>lazyStartProducer</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the producer should be started lazy (on the first message). By starting lazy you can use this to allow CamelContext and routes to startup in situations where a producer may otherwise fail during starting and cause the route to fail being started. By deferring this startup to be lazy then the startup failure can be handled during routing messages via Camel&#8217;s routing error handlers. Beware that when the first message is processed then creating and starting the producer may take a little time and prolong the total processing time of the processing.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>messageFactory</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Option to provide a custom WebServiceMessageFactory. For example when you want Apache Axiom to handle web service messages instead of SAAJ.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">WebServiceMessageFactory</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>messageIdStrategy</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Option to provide a custom MessageIdStrategy to control generation of unique message ids.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">MessageIdStrategy</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>messageSender</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Option to provide a custom WebServiceMessageSender. For example to perform authentication or use alternative transports</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">WebServiceMessageSender</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>outputAction</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Signifies the value for the response WS-Addressing Action header that is provided by the method.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>replyTo</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Signifies the value for the replyTo response WS-Addressing ReplyTo header that is provided by the method.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>soapAction</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">SOAP action to include inside a SOAP request when accessing remote web services</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>timeout</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the socket read timeout (in milliseconds) while invoking a webservice using the producer, see URLConnection.setReadTimeout() and CommonsHttpMessageSender.setReadTimeout(). This option works when using the built-in message sender implementations: CommonsHttpMessageSender and HttpUrlConnectionMessageSender. One of these implementations will be used by default for HTTP based services unless you customize the Spring WS configuration options supplied to the component. If you are using a non-standard sender, it is assumed that you will handle your own timeout configuration. The built-in message sender HttpComponentsMessageSender is considered instead of CommonsHttpMessageSender which has been deprecated, see HttpComponentsMessageSender.setReadTimeout().</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>webServiceTemplate</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Option to provide a custom WebServiceTemplate. This allows for full control over client-side web services handling; like adding a custom interceptor or specifying a fault resolver, message sender or message factory.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">WebServiceTemplate</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>wsAddressingAction</strong> (producer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">WS-Addressing 1.0 action header to include when accessing web services. The To header is set to the address of the web service as specified in the endpoint URI (default Spring-WS behavior).</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>basicPropertyBinding</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the endpoint should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>synchronous</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets whether synchronous processing should be strictly used, or Camel is allowed to use asynchronous processing (if supported).</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>sslContextParameters</strong> (security)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To configure security using SSLContextParameters</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">SSLContextParameters</p></td> </tr> </tbody> </table></div> </div> </div> </div> <div class="sect1"> <h2 id="_spring_boot_auto_configuration"><a class="anchor" href="#_spring_boot_auto_configuration"></a>Spring Boot Auto-Configuration</h2> <div class="sectionbody"> <div class="paragraph"> <p>When using Spring Boot make sure to use the following Maven dependency to have support for auto configuration:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-spring-ws-starter&lt;/artifactId&gt;
  &lt;version&gt;x.x.x&lt;/version&gt;
  &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</code></pre> </div> </div> <div class="paragraph"> <p>The component supports 3 options, which are listed below.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.spring-ws.basic-property-binding</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the component should use basic property binding (Camel 2.x) or the newer property binding with additional capabilities</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.spring-ws.enabled</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Enable spring-ws component</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.spring-ws.use-global-ssl-context-parameters</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Enable usage of global SSL context parameters.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> </tbody> </table></div> <div class="sect2"> <h3 id="_message_headers"><a class="anchor" href="#_message_headers"></a>Message headers</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Type</th> <th class="tableblock halign-left valign-top">Description</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelSpringWebserviceEndpointUri</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">URI of the web service your accessing as a client, overrides <em>address</em> part of the endpoint URI</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelSpringWebserviceSoapAction</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Header to specify the SOAP action of the message, overrides <code>soapAction</code> option if present</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">CamelSpringWebserviceSoapHeader</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Source</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use this header to specify/access the SOAP headers of the message.</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelSpringWebserviceAddressingAction</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use this header to specify the WS-Addressing action of the message, overrides <code>wsAddressingAction</code> option if present</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">CamelSpringWebserviceAddressingFaultTo</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use this header to specify the WS-Addressing FaultTo , overrides faultTo option if present</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">CamelSpringWebserviceAddressingReplyTo</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use this header to specify the WS-Addressing ReplyTo , overrides replyTo option if present</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">CamelSpringWebserviceAddressingOutputAction</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use this header to specify the WS-Addressing Action , overrides outputAction option if present</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">CamelSpringWebserviceAddressingFaultAction</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">URI</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Use this header to specify the WS-Addressing Fault Action , overrides faultAction option if present</p></td> </tr> </tbody> </table></div> </div> </div> </div> <div class="sect1"> <h2 id="_accessing_web_services"><a class="anchor" href="#_accessing_web_services"></a>Accessing web services</h2> <div class="sectionbody"> <div class="paragraph"> <p>To call a web service at <code>http://foo.com/bar</code> simply define a route:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:example").to("spring-ws:http://foo.com/bar")</code></pre> </div> </div> <div class="paragraph"> <p>And sent a message:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">template.requestBody("direct:example", "&lt;foobar xmlns=\"http://foo.com\"&gt;&lt;msg&gt;test message&lt;/msg&gt;&lt;/foobar&gt;");</code></pre> </div> </div> <div class="paragraph"> <p>Remember if it&#8217;s a SOAP service you&#8217;re calling you don&#8217;t have to include SOAP tags. Spring-WS will perform the XML-to-SOAP marshaling.</p> </div> </div> </div> <div class="sect1"> <h2 id="_sending_soap_and_ws_addressing_action_headers"><a class="anchor" href="#_sending_soap_and_ws_addressing_action_headers"></a>Sending SOAP and WS-Addressing action headers</h2> <div class="sectionbody"> <div class="paragraph"> <p>When a remote web service requires a SOAP action or use of the WS-Addressing standard you define your route as:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:example")
.to("spring-ws:http://foo.com/bar?soapAction=http://foo.com&amp;wsAddressingAction=http://bar.com")</code></pre> </div> </div> <div class="paragraph"> <p>Optionally you can override the endpoint options with header values:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">template.requestBodyAndHeader("direct:example",
"&lt;foobar xmlns=\"http://foo.com\"&gt;&lt;msg&gt;test message&lt;/msg&gt;&lt;/foobar&gt;",
SpringWebserviceConstants.SPRING_WS_SOAP_ACTION, "http://baz.com");</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_using_soap_headers"><a class="anchor" href="#_using_soap_headers"></a>Using SOAP headers</h2> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel 2.11.1</strong></p> </div> <div class="paragraph"> <p>You can provide the SOAP header(s) as a Camel Message header when sending a message to a spring-ws endpoint, for example given the following SOAP header in a String</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String body = ...
String soapHeader = "&lt;h:Header xmlns:h=\"http://www.webserviceX.NET/\"&gt;&lt;h:MessageID&gt;1234567890&lt;/h:MessageID&gt;&lt;h:Nested&gt;&lt;h:NestedID&gt;1111&lt;/h:NestedID&gt;&lt;/h:Nested&gt;&lt;/h:Header&gt;";</code></pre> </div> </div> <div class="paragraph"> <p>We can set the body and header on the Camel Message as follows:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">exchange.getIn().setBody(body);
exchange.getIn().setHeader(SpringWebserviceConstants.SPRING_WS_SOAP_HEADER, soapHeader);</code></pre> </div> </div> <div class="paragraph"> <p>And then send the Exchange to a <code>spring-ws</code> endpoint to call the Web Service.</p> </div> <div class="paragraph"> <p>Likewise the spring-ws consumer will also enrich the Camel Message with the SOAP header.</p> </div> <div class="paragraph"> <p>For an example see this <a href="https://svn.apache.org/repos/asf/camel/trunk/components/camel-spring-ws/src/test/java/org/apache/camel/component/spring/ws/SoapHeaderTest.java">unit test</a>.</p> </div> </div> </div> <div class="sect1"> <h2 id="_the_header_and_attachment_propagation"><a class="anchor" href="#_the_header_and_attachment_propagation"></a>The header and attachment propagation</h2> <div class="sectionbody"> <div class="paragraph"> <p>Spring WS Camel supports propagation of the headers and attachments into Spring-WS WebServiceMessage response. The endpoint will use so called "hook" the MessageFilter (default implementation is provided by BasicMessageFilter) to propagate the exchange headers and attachments into WebServiceMessage response. Now you can use</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">exchange.getOut().getHeaders().put("myCustom","myHeaderValue")
exchange.getIn().addAttachment("myAttachment", new DataHandler(...))</code></pre> </div> </div> <div class="paragraph"> <p>Note: If the exchange header in the pipeline contains text, it generates Qname(key)=value attribute in the soap header. Recommended is to create a QName class directly and put into any key into header.</p> </div> </div> </div> <div class="sect1"> <h2 id="_how_to_transform_the_soap_header_using_a_stylesheet"><a class="anchor" href="#_how_to_transform_the_soap_header_using_a_stylesheet"></a>How to transform the soap header using a stylesheet</h2> <div class="sectionbody"> <div class="paragraph"> <p>The header transformation filter (HeaderTransformationMessageFilter.java) can be used to transform the soap header for a soap request. If you want to use the header transformation filter, see the below example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;bean id="headerTransformationFilter" class="org.apache.camel.component.spring.ws.filter.impl.HeaderTransformationMessageFilter"&gt;
    &lt;constructor-arg index="0" value="org/apache/camel/component/spring/ws/soap-header-transform.xslt"/&gt;
&lt;/bean</code></pre> </div> </div> <div class="paragraph"> <p>Use the bead defined above in the camel endpoint</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;route&gt;
    &lt;from uri="direct:stockQuoteWebserviceHeaderTransformation"/&gt;
    &lt;to uri="spring-ws:http://localhost?webServiceTemplate=#webServiceTemplate&amp;amp;soapAction=http://www.stockquotes.edu/GetQuote&amp;amp;messageFilter=#headerTransformationFilter"/&gt;
&lt;/route&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_how_to_use_mtom_attachments"><a class="anchor" href="#_how_to_use_mtom_attachments"></a>How to use MTOM attachments</h2> <div class="sectionbody"> <div class="paragraph"> <p>The BasicMessageFilter provides all required information for Apache Axiom in order to produce MTOM message. If you want to use Apache Camel Spring WS within Apache Axiom, here is an example: - Simply define the messageFactory as is bellow and Spring-WS will use MTOM strategy to populate your SOAP message with optimized attachments.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;bean id="axiomMessageFactory"
class="org.springframework.ws.soap.axiom.AxiomSoapMessageFactory"&gt;
&lt;property name="payloadCaching" value="false" /&gt;
&lt;property name="attachmentCaching" value="true" /&gt;
&lt;property name="attachmentCacheThreshold" value="1024" /&gt;
&lt;/bean&gt;</code></pre> </div> </div> <div class="ulist"> <ul> <li> <p>Add into your pom.xml the following dependencies</p> </li> </ul> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;dependency&gt;
&lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;
&lt;artifactId&gt;axiom-api&lt;/artifactId&gt;
&lt;version&gt;1.2.13&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
&lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;
&lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;
&lt;version&gt;1.2.13&lt;/version&gt;
&lt;scope&gt;runtime&lt;/scope&gt;
&lt;/dependency&gt;</code></pre> </div> </div> <div class="ulist"> <ul> <li> <p>Add your attachment into the pipeline, for example using a Processor implementation.</p> </li> </ul> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">private class Attachement implements Processor {
public void process(Exchange exchange) throws Exception
{ exchange.getOut().copyFrom(exchange.getIn()); File file = new File("testAttachment.txt"); exchange.getOut().addAttachment("test", new DataHandler(new FileDataSource(file)));  }
}</code></pre> </div> </div> <div class="ulist"> <ul> <li> <p>Define endpoint (producer) as ussual, for example like this:</p> </li> </ul> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:send")
.process(new Attachement())
.to("spring-ws:http://localhost:8089/mySoapService?soapAction=mySoap&amp;messageFactory=axiomMessageFactory");</code></pre> </div> </div> <div class="ulist"> <ul> <li> <p>Now, your producer will generate MTOM message with otpmized attachments.</p> </li> </ul> </div> </div> </div> <div class="sect1"> <h2 id="_the_custom_header_and_attachment_filtering"><a class="anchor" href="#_the_custom_header_and_attachment_filtering"></a>The custom header and attachment filtering</h2> <div class="sectionbody"> <div class="paragraph"> <p>If you need to provide your custom processing of either headers or attachments, extend existing BasicMessageFilter and override the appropriate methods or write a brand new implementation of the MessageFilter interface.<br> To use your custom filter, add this into your spring context:</p> </div> <div class="paragraph"> <p>You can specify either a global a or a local message filter as follows: a) the global custom filter that provides the global configuration for all Spring-WS endpoints</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;bean id="messageFilter" class="your.domain.myMessageFiler" scope="singleton" /&gt;</code></pre> </div> </div> <div class="paragraph"> <p>or b) the local messageFilter directly on the endpoint as follows:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">to("spring-ws:http://yourdomain.com?messageFilter=#myEndpointSpecificMessageFilter");</code></pre> </div> </div> <div class="paragraph"> <p>For more information see <a href="https://issues.apache.org/jira/browse/CAMEL-5724">CAMEL-5724</a></p> </div> <div class="paragraph"> <p>If you want to create your own MessageFilter, consider overriding the following methods in the default implementation of MessageFilter in class BasicMessageFilter:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">protected void doProcessSoapHeader(Message inOrOut, SoapMessage soapMessage)
{your code /*no need to call super*/ }

protected void doProcessSoapAttachements(Message inOrOut, SoapMessage response)
{ your code /*no need to call super*/ }</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_using_a_custom_messagesender_and_messagefactory"><a class="anchor" href="#_using_a_custom_messagesender_and_messagefactory"></a>Using a custom MessageSender and MessageFactory</h2> <div class="sectionbody"> <div class="paragraph"> <p>A custom message sender or factory in the registry can be referenced like this:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:example")
.to("spring-ws:http://foo.com/bar?messageFactory=#messageFactory&amp;messageSender=#messageSender")</code></pre> </div> </div> <div class="paragraph"> <p>Spring configuration:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;!-- authenticate using HTTP Basic Authentication --&gt;
&lt;bean id="messageSender" class="org.springframework.ws.transport.http.HttpComponentsMessageSender"&gt;
    &lt;property name="credentials"&gt;
        &lt;bean class="org.apache.commons.httpclient.UsernamePasswordCredentials"&gt;
            &lt;constructor-arg index="0" value="admin"/&gt;
            &lt;constructor-arg index="1" value="secret"/&gt;
        &lt;/bean&gt;
    &lt;/property&gt;
&lt;/bean&gt;

&lt;!-- force use of Sun SAAJ implementation, http://static.springsource.org/spring-ws/sites/1.5/faq.html#saaj-jboss --&gt;
&lt;bean id="messageFactory" class="org.springframework.ws.soap.saaj.SaajSoapMessageFactory"&gt;
    &lt;property name="messageFactory"&gt;
        &lt;bean class="com.sun.xml.messaging.saaj.soap.ver1_1.SOAPMessageFactory1_1Impl"&gt;&lt;/bean&gt;
    &lt;/property&gt;
&lt;/bean&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_exposing_web_services"><a class="anchor" href="#_exposing_web_services"></a>Exposing web services</h2> <div class="sectionbody"> <div class="paragraph"> <p>In order to expose a web service using this component you first need to set-up a <a href="http://static.springsource.org/spring-ws/sites/1.5/reference/html/server.html">MessageDispatcher</a> to look for endpoint mappings in a Spring XML file. If you plan on running inside a servlet container you probably want to use a <code>MessageDispatcherServlet</code> configured in <code>web.xml</code>.</p> </div> <div class="paragraph"> <p>By default the <code>MessageDispatcherServlet</code> will look for a Spring XML named <code>/WEB-INF/spring-ws-servlet.xml</code>. To use Camel with Spring-WS the only mandatory bean in that XML file is <code>CamelEndpointMapping</code>. This bean allows the <code>MessageDispatcher</code> to dispatch web service requests to your routes.</p> </div> <div class="paragraph"> <p><em>web.xml</em></p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;web-app&gt;
    &lt;servlet&gt;
        &lt;servlet-name&gt;spring-ws&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.springframework.ws.transport.http.MessageDispatcherServlet&lt;/servlet-class&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;spring-ws&lt;/servlet-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
&lt;/web-app&gt;</code></pre> </div> </div> <div class="paragraph"> <p><em>spring-ws-servlet.xml</em></p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;bean id="endpointMapping" class="org.apache.camel.component.spring.ws.bean.CamelEndpointMapping" /&gt;

&lt;bean id="wsdl" class="org.springframework.ws.wsdl.wsdl11.DefaultWsdl11Definition"&gt;
    &lt;property name="schema"&gt;
        &lt;bean class="org.springframework.xml.xsd.SimpleXsdSchema"&gt;
            &lt;property name="xsd" value="/WEB-INF/foobar.xsd"/&gt;
        &lt;/bean&gt;
    &lt;/property&gt;
    &lt;property name="portTypeName" value="FooBar"/&gt;
    &lt;property name="locationUri" value="/"/&gt;
    &lt;property name="targetNamespace" value="http://example.com/"/&gt;
&lt;/bean&gt;</code></pre> </div> </div> <div class="paragraph"> <p>More information on setting up Spring-WS can be found in <a href="http://static.springsource.org/spring-ws/sites/1.5/reference/html/tutorial.html">Writing Contract-First Web Services</a>. Basically paragraph 3.6 "Implementing the Endpoint" is handled by this component (specifically paragraph 3.6.2 "Routing the Message to the Endpoint" is where <code>CamelEndpointMapping</code> comes in). Also don&#8217;t forget to check out the Spring Web Services Example included in the Camel distribution.</p> </div> </div> </div> <div class="sect1"> <h2 id="_endpoint_mapping_in_routes"><a class="anchor" href="#_endpoint_mapping_in_routes"></a>Endpoint mapping in routes</h2> <div class="sectionbody"> <div class="paragraph"> <p>With the XML configuration in-place you can now use Camel&#8217;s DSL to define what web service requests are handled by your endpoint:</p> </div> <div class="paragraph"> <p>The following route will receive all web service requests that have a root element named "GetFoo" within the <code>http://example.com/</code> namespace.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("spring-ws:rootqname:{http://example.com/}GetFoo?endpointMapping=#endpointMapping")
.convertBodyTo(String.class).to(mock:example)</code></pre> </div> </div> <div class="paragraph"> <p>The following route will receive web service requests containing the <code>http://example.com/GetFoo</code> SOAP action.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("spring-ws:soapaction:http://example.com/GetFoo?endpointMapping=#endpointMapping")
.convertBodyTo(String.class).to(mock:example)</code></pre> </div> </div> <div class="paragraph"> <p>The following route will receive all requests sent to <code>http://example.com/foobar</code>.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("spring-ws:uri:http://example.com/foobar?endpointMapping=#endpointMapping")
.convertBodyTo(String.class).to(mock:example)</code></pre> </div> </div> <div class="paragraph"> <p>The route below will receive requests that contain the element <code>&lt;foobar&gt;abc&lt;/foobar&gt;</code> anywhere inside the message (and the default namespace).</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("spring-ws:xpathresult:abc?expression=//foobar&amp;endpointMapping=#endpointMapping")
.convertBodyTo(String.class).to(mock:example)</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_alternative_configuration_using_existing_endpoint_mappings"><a class="anchor" href="#_alternative_configuration_using_existing_endpoint_mappings"></a>Alternative configuration, using existing endpoint mappings</h2> <div class="sectionbody"> <div class="paragraph"> <p>For every endpoint with mapping-type <code>beanname</code> one bean of type <code>CamelEndpointDispatcher</code> with a corresponding name is required in the Registry/ApplicationContext. This bean acts as a bridge between the Camel endpoint and an existing <a href="http://static.springsource.org/spring-ws/sites/1.5/reference/html/server.html#server-endpoint-mapping">endpoint mapping</a> like <code>PayloadRootQNameEndpointMapping</code>.</p> </div> <div class="paragraph"> <p>NOTE:The use of the <code>beanname</code> mapping-type is primarily meant for (legacy) situations where you&#8217;re already using Spring-WS and have endpoint mappings defined in a Spring XML file. The <code>beanname</code> mapping-type allows you to wire your Camel route into an existing endpoint mapping. When you&#8217;re starting from scratch it&#8217;s recommended to define your endpoint mappings as Camel URI&#8217;s (as illustrated above with <code>endpointMapping</code>) since it requires less configuration and is more expressive. Alternatively you could use vanilla Spring-WS with the help of annotations.</p> </div> <div class="paragraph"> <p>An example of a route using <code>beanname</code>:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&lt;camelContext xmlns="http://camel.apache.org/schema/spring"&gt;
    &lt;route&gt;
        &lt;from uri="spring-ws:beanname:QuoteEndpointDispatcher" /&gt;
        &lt;to uri="mock:example" /&gt;
    &lt;/route&gt;
&lt;/camelContext&gt;

&lt;bean id="legacyEndpointMapping" class="org.springframework.ws.server.endpoint.mapping.PayloadRootQNameEndpointMapping"&gt;
    &lt;property name="mappings"&gt;
        &lt;props&gt;
            &lt;prop key="{http://example.com/}GetFuture"&gt;FutureEndpointDispatcher&lt;/prop&gt;
            &lt;prop key="{http://example.com/}GetQuote"&gt;QuoteEndpointDispatcher&lt;/prop&gt;
        &lt;/props&gt;
    &lt;/property&gt;
&lt;/bean&gt;

&lt;bean id="QuoteEndpointDispatcher" class="org.apache.camel.component.spring.ws.bean.CamelEndpointDispatcher" /&gt;
&lt;bean id="FutureEndpointDispatcher" class="org.apache.camel.component.spring.ws.bean.CamelEndpointDispatcher" /&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_pojo_unmarshalling"><a class="anchor" href="#_pojo_unmarshalling"></a>POJO (un)marshalling</h2> <div class="sectionbody"> <div class="paragraph"> <p>Camel&#8217;s pluggable data formats offer support for pojo/xml marshalling using libraries such as JAXB, XStream, JibX, Castor and XMLBeans. You can use these data formats in your route to sent and receive pojo&#8217;s, to and from web services.</p> </div> <div class="paragraph"> <p>When <em>accessing</em> web services you can marshal the request and unmarshal the response message:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">JaxbDataFormat jaxb = new JaxbDataFormat(false);
jaxb.setContextPath("com.example.model");

from("direct:example").marshal(jaxb).to("spring-ws:http://foo.com/bar").unmarshal(jaxb);</code></pre> </div> </div> <div class="paragraph"> <p>Similarly when <em>providing</em> web services, you can unmarshal XML requests to POJO&#8217;s and marshal the response message back to XML:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("spring-ws:rootqname:{http://example.com/}GetFoo?endpointMapping=#endpointMapping").unmarshal(jaxb)
.to("mock:example").marshal(jaxb);</code></pre> </div> </div> </div> </div> </article> </main> </div> <footer> <div class="footer"> <figure class="logo"> <img src="../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <dl> <dt>Overview</dt> <dd><a href="../../blog/">Blog</a></dd> <dd><a href="../../components/latest/">Components</a></dd> <dd><a href="../../download/">Download</a></dd> <dd><a href="../../docs/getting-started/">Getting started</a></dd> <dd><a href="../../manual/latest/faq.html">FAQ</a></dd> </dl> <dl> <dt>Community</dt> <dd><a href="../../community/support/">Support</a></dd> <dd><a href="https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a></dd> <dd><a href="../../community/user-stories/">User stories</a></dd> <dd><a href="../../community/articles/">Articles</a></dd> <dd><a href="../../community/books/">Books</a></dd> <dd><a href="../../community/team/">Team</a></dd> </dl> <dl> <dt>About</dt> <dd><a href="../../acknowledgments/">Acknowledgments</a> </dd><dd><a target="_blank" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p> &copy; 2004-2019 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> </div> </footer> <script src="../../_/js/site-f4f4dbc142.js"></script> <script async src="../../_/js/vendor/highlight-54157f17f1.js"></script> <script async src="../../_/js/vendor/svg4everybody-195d47ce7d.js"></script> <script type="application/ld+json"> {
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Apache Camel",
  "url": "https://camel.apache.org",
  "sameAs": [
     "https://twitter.com/ApacheCamel"
  ],
  "logo": "../../_/img/logo-d.svg",
  "description": "Apache Camel  is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."
} </script> <script type="application/ld+json"> { 
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Apache Camel",
        "item": "https://camel.apache.org"
        },
        {
        "@type": "ListItem",
        "position": 2,
        "name": "Component reference",
        "item": "https://camel.apache.org/components/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 3,
        "name": "Spring WebService Component","item": "https://camel.apache.org/components/latest/spring-ws-component.html"}
        ]
    } </script> </body> </html> 