<!doctype html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <title>MongoDB Component (deprecated) - Apache Camel</title> <link rel="canonical" href="https://camel.apache.org/components/latest/mongodb-component.html"> <meta name="generator" content="Antora 2.1.0"> <link rel="stylesheet" href="../../_/css/site-f36f640c63.css"> <meta name="application-name" content="Apache Camel"> <link rel="manifest" href="../../site.webmanifest"> <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../apple-touch-icon-57x57.png"> <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../apple-touch-icon-114x114.png"> <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../apple-touch-icon-72x72.png"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../apple-touch-icon-144x144.png"> <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../apple-touch-icon-60x60.png"> <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../apple-touch-icon-120x120.png"> <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../apple-touch-icon-76x76.png"> <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../apple-touch-icon-152x152.png"> <link rel="icon" type="image/png" href="../../favicon-196x196.png" sizes="196x196"> <link rel="icon" type="image/png" href="../../favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="../../favicon-128.png" sizes="128x128"> </head> <body class="article"> <header class="header"> <nav class="navbar"> <div class="navbar-brand"> <a class="nav-logo" href="../.."><span>Apache Camel</span></a> <div id="topbar-nav" class="navbar-menu"> <div class="navbar-end"> <a class="navbar-item" href="../../blog/">Blog</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Projects</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../projects/camel-k/">Camel K</a> <a class="navbar-item" href="../../projects/camel-quarkus/">Camel Quarkus</a> <a class="navbar-item" href="../../projects/camel-kafka-connector/">Camel Kafka Connector</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Documentation</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../manual/latest/getting-started.html">Getting started</a> <a class="navbar-item" href="../../manual/latest/">User manual</a> <a class="navbar-item" href="../../components/latest/">Component reference</a> <a class="navbar-item" href="../../camel-k/latest/">Camel K</a> <a class="navbar-item" href="../../camel-quarkus/latest/">Camel Quarkus</a> <a class="navbar-item" href="../../camel-kafka-connector/latest/">Camel Kafka Connector</a> <a class="navbar-item" href="../../manual/latest/enterprise-integration-patterns.html">Enterprise Integration Patterns</a> <a class="navbar-item" href="../../manual/latest/camel-3-migration-guide.html">Camel 2.x to 3.0 Migration Guide</a> <a class="navbar-item" href="../../manual/latest/camel-3x-upgrade-guide.html">Camel 3.x Upgrade Guide</a> </div> </div> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">Community</a> <div class="navbar-dropdown"> <a class="navbar-item" href="../../community/support/">Support</a> <a class="navbar-item" href="../../manual/latest/contributing.html">Contributing</a> <a class="navbar-item" href="../../community/user-stories/">User stories</a> <a class="navbar-item" href="../../community/articles/">Articles</a> <a class="navbar-item" href="../../community/books/">Books</a> <a class="navbar-item" href="../../community/team/">Team</a> </div> </div> <a class="navbar-item" href="../../download/">Download</a> <div class="navbar-item has-dropdown is-hoverable"> <a class="navbar-link" href="#">About</a> <div class="navbar-dropdown"> <a class="navbar-item" href="https://www.apache.org/events/current-event.html">Apache events</a> <a class="navbar-item" href="https://www.apache.org/licenses/">License</a> <a class="navbar-item" href="../../security/">Security</a> <a class="navbar-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a> <a class="navbar-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a> </div> </div> </div> </div> <div class="navbar-tools"> <a href="https://github.com/apache/camel/" title="Collaborate on GitHub"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#github"/></svg></a> <a href="https://gitter.im/apache/apache-camel" title="Chat on Gitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#gitter"/></svg></a> <a href="https://twitter.com/ApacheCamel" title="Follow Apache Camel on Twitter"><svg class="brand-icon"><use xlink:href="../../_/img/brand-logos.svg#twitter"/></svg></a> </div> <button class="navbar-burger" data-target="topbar-nav" type="button"> <span></span> <span></span> <span></span> </button> </div> </nav> </header> <div class="body"> <div class="nav-container" data-component="components" data-version="2.x"> <aside class="nav"> <div class="panels"> <div class="nav-panel-menu is-active" data-panel="menu"> <input class="search" placeholder="Quick lookup"> <nav class="nav-menu"> <h3 class="title"><a href="index.html">Component reference</a></h3> <ul class="nav-list"> <li class="nav-item" data-depth="0"> <ul class="nav-list"> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ahc-ws-component.html">AHC Websocket Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ahc-component.html">AHC Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="amqp-component.html">AMQP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="apns-component.html">APNS Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="as2-component.html">AS2 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="asn1-dataformat.html">ASN.1 File DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="asterisk-component.html">Asterisk Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="atmos-component.html">Atmos Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="atmosphere-websocket-component.html">Atmosphere Websocket Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="atom-component.html">Atom Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="atomix-map-component.html">Atomix Map Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="atomix-messaging-component.html">Atomix Messaging Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="atomix-multimap-component.html">Atomix MultiMap Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="atomix-queue-component.html">Atomix Queue Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="atomix-set-component.html">Atomix Set Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="atomix-value-component.html">Atomix Value Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="avro-component.html">Avro Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="avro-dataformat.html">Avro DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-xray.html">AWS XRay Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-cw-component.html">AWS CloudWatch Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-ddb-component.html">AWS DynamoDB Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-ddbstream-component.html">AWS DynamoDB Streams Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-ec2-component.html">AWS EC2 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-iam-component.html">AWS IAM Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-kinesis-component.html">AWS Kinesis Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-kinesis-firehose-component.html">AWS Kinesis Firehose Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-kms-component.html">AWS KMS Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-lambda-component.html">AWS Lambda Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-mq-component.html">AWS MQ Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-s3-component.html">AWS S3 Storage Service Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-sdb-component.html">AWS SimpleDB Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-ses-component.html">AWS Simple Email Service Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-sns-component.html">AWS Simple Notification System Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-sqs-component.html">AWS Simple Queue Service Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws-swf-component.html">AWS Simple Workflow Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="aws.html">Camel Components for Amazon Web Services</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="azure-blob-component.html">Azure Storage Blob Service Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="azure-queue-component.html">Azure Storage Queue Service Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="azure.html">Camel Components for Windows Azure Services</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="bam-example.html">Business Activity Monitor (BAM) Example</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="bam.html">Business Activity Monitoring</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="barcode-dataformat.html">Barcode DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="base64-dataformat.html">Base64 DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="bean-validator-component.html">Bean Validator Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="beanio-dataformat.html">BeanIO DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="beanstalk-component.html">Beanstalk Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="bindy-dataformat.html">Bindy DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="blueprint.html">Using OSGi blueprint with Camel</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="bonita-component.html">Bonita Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="boon-dataformat.html">Boon DataFormat (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="box-component.html">Box Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="braintree-component.html">Braintree Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="cache-component.html">EHCache Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="caffeine-cache-component.html">Caffeine Cache Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="caffeine-loadcache-component.html">Caffeine LoadCache Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="cql-component.html">Cassandra CQL Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="castor-dataformat.html">Castor DataFormat (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="cdi.html">Camel CDI</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="chronicle-engine-component.html">Chronicle Engine Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="chunk-component.html">Chunk Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="cmis-component.html">CMIS Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="coap-component.html">CoAP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="cometd-component.html">CometD Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="consul-component.html">Consul Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="context-component.html">Camel Context Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="corda-component.html">corda Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="couchbase-component.html">Couchbase Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="couchdb-component.html">CouchDB Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="crypto-cms-component.html">Crypto CMS Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="crypto-component.html">Crypto (JCE) Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="crypto-dataformat.html">Crypto (Java Cryptographic Extension) DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="pgp-dataformat.html">PGP DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="csv-dataformat.html">CSV DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="cxf-transport.html">What&#8217;s the Camel Transport for CXF</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="cxf-component.html">CXF Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="cxfrs-component.html">CXF-RS Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="digitalocean-component.html">DigitalOcean Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="disruptor-component.html">Disruptor Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="dns-component.html">DNS Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="docker-component.html">Docker Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="dozer-component.html">Dozer Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="drill-component.html">Drill Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="dropbox-component.html">Dropbox Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="eclipse.html">Eclipse Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ehcache-component.html">Ehcache Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ejb-component.html">EJB Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="elasticsearch-rest-component.html">Elastichsearch Rest Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="elasticsearch-component.html">Elasticsearch Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="elasticsearch5-component.html">Elasticsearch5 Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="elsql-component.html">ElSQL Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="etcd-component.html">etcd Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="eventadmin-component.html">OSGi EventAdmin Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="exec-component.html">Exec Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="facebook-component.html">Facebook Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="json-fastjson-dataformat.html">JSon Fastjson DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="fhir-component.html">FHIR Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="fhirJson-dataformat.html">FHIR JSon DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="fhirXml-dataformat.html">FHIR XML DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="flatpack-component.html">Flatpack Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="flatpack-dataformat.html">Flatpack DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="flink-component.html">Apache Flink Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="fop-component.html">FOP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="freemarker-component.html">Freemarker Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ftp-component.html">FTP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ftps-component.html">FTPS Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="sftp-component.html">SFTP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ganglia-component.html">Ganglia Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="geocoder-component.html">Geocoder Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="git-component.html">Git Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="github-component.html">GitHub Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="google-bigquery-component.html">Google BigQuery Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="google-bigquery-sql-component.html">Google BigQuery Standard SQL Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="google-calendar-component.html">Google Calendar Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="google-calendar-stream-component.html">Google Calendar Stream Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="google-drive-component.html">Google Drive Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="google-mail-component.html">Google Mail Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="google-mail-stream-component.html">Google Mail Stream Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="google-pubsub-component.html">Google Pubsub Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="google-sheets-component.html">Google Sheets Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="google-sheets-stream-component.html">Google Sheets Stream Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="gora-component.html">Gora Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="grape-component.html">Grape Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="groovy-dsl.html">About the Groovy DSL (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="groovy-language.html">Groovy Language</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="grpc-component.html">gRPC Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="json-gson-dataformat.html">JSon GSon DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="guava-eventbus-component.html">Guava EventBus Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="guice.html">Camel Guice</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hawtdb.html">HawtDB (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast-atomicvalue-component.html">Hazelcast Atomic Number Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast-instance-component.html">Hazelcast Instance Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast-list-component.html">Hazelcast List Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast-map-component.html">Hazelcast Map Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast-multimap-component.html">Hazelcast Multimap Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast-queue-component.html">Hazelcast Queue Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast-replicatedmap-component.html">Hazelcast Replicated Map Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast-ringbuffer-component.html">Hazelcast Ringbuffer Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast-seda-component.html">Hazelcast SEDA Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast-set-component.html">Hazelcast Set Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast-topic-component.html">Hazelcast Topic Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hazelcast.html">Hazelcast Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hbase-component.html">HBase Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hdfs-component.html">HDFS Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hdfs2-component.html">HDFS2 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="headersmap.html">HeadersMap</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hessian-dataformat.html">Hessian DataFormat (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hipchat-component.html">Hipchat Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hl7-dataformat.html">HL7 DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="terser-language.html">HL7 Terser Language</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="http-component.html">HTTP Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="http4-component.html">HTTP4 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="hystrix.html">Hystrix Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ibatis-component.html">iBatis Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ical-dataformat.html">iCal DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="iec60870-client-component.html">IEC 60870 Client Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="iec60870-server-component.html">IEC 60870 Server Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ignite-cache-component.html">Ignite Cache Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ignite-compute-component.html">Ignite Compute Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ignite-events-component.html">Ignite Events Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ignite-idgen-component.html">Ignite ID Generator Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ignite-messaging-component.html">Ignite Messaging Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ignite-queue-component.html">Ignite Queues Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ignite-set-component.html">Ignite Sets Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ignite.html">Ignite endpoints Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="infinispan-component.html">Infinispan Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="influxdb-component.html">InfluxDB Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="iota-component.html">IOTA Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ipfs-component.html">IPFS Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="irc-component.html">IRC Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ironmq-component.html">IronMQ Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="json-jackson-dataformat.html">JSon Jackson DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jacksonxml-dataformat.html">JacksonXML DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jasypt.html">Jasypt component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="javaspace-component.html">JavaSpace Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jaxb-dataformat.html">JAXB DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jbpm-component.html">JBPM Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jcache-component.html">JCache Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jclouds-component.html">JClouds Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jcr-component.html">JCR Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jdbc-component.html">JDBC Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jetty-component.html">Jetty 9 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jgroups-raft-component.html">JGroups raft Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jgroups-component.html">JGroups Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jibx-dataformat.html">JiBX DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jing-component.html">Jing Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jira-component.html">JIRA Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jms-component.html">JMS Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jmx-component.html">JMX Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="json-johnzon-dataformat.html">JSon Johnzon DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jolt-component.html">JOLT Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="sql-language.html">SQL Language (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jpa-component.html">JPA Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="scp-component.html">SCP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="json-validator-component.html">JSON Schema Validator Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jsonpath-language.html">JsonPath Language</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jt400-component.html">JT400 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="el-language.html">EL Language (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="jxpath-language.html">JXPath Language (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kafka-component.html">Kafka Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kestrel-component.html">Kestrel Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="krati-component.html">Krati Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-component.html">Kubernetes Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-config-maps-component.html">Kubernetes ConfigMap Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-deployments-component.html">Kubernetes Deployments Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-hpa-component.html">Kubernetes HPA Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-job-component.html">Kubernetes Job Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-namespaces-component.html">Kubernetes Namespaces Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-nodes-component.html">Kubernetes Nodes Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-persistent-volumes-claims-component.html">Kubernetes Persistent Volume Claim Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-persistent-volumes-component.html">Kubernetes Persistent Volume Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-pods-component.html">Kubernetes Pods Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-replication-controllers-component.html">Kubernetes Replication Controller Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-resources-quota-component.html">Kubernetes Resources Quota Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-secrets-component.html">Kubernetes Secrets Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-service-accounts-component.html">Kubernetes Service Account Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes-services-component.html">Kubernetes Services Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kubernetes.html">Kubernetes Components</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="openshift-build-configs-component.html">Openshift Build Config Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="openshift-builds-component.html">Openshift Builds Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="kura.html">Eclipse Kura component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ldap-component.html">LDAP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ldif-component.html">LDIF Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="leveldb.html">LevelDB</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="linkedin-component.html">Linkedin Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="lra.html">LRA Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="lucene-component.html">Lucene Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="lumberjack-component.html">Lumberjack Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="lzf-dataformat.html">LZF Deflate Compression DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mail-component.html">Mail Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mime-multipart-dataformat.html">MIME Multipart DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="master-component.html">Master Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="metrics-component.html">Metrics Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="micrometer-component.html">Micrometer Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="milo-client-component.html">OPC UA Client Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="milo-server-component.html">OPC UA Server Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mina-component.html">Mina Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mina2-component.html">Mina2 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mllp-component.html">MLLP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mongodb-gridfs-component.html">MongoDB GridFS Component</a> </li> <li class="nav-item is-current-page" data-depth="1"> <a class="nav-link" href="mongodb-component.html">MongoDB Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mongodb3-component.html">MongoDB Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mqtt-component.html">MQTT Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="msv-component.html">MSV Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mustache-component.html">Mustache Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mvel-component.html">MVEL Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mvel-language.html">MVEL Language</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mybatis-bean-component.html">MyBatis Bean Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="mybatis-component.html">MyBatis Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="nagios-component.html">Nagios Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="nats-component.html">Nats Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="netty-http-component.html">Netty HTTP Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="netty-component.html">Netty Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="netty4-http-component.html">Netty4 HTTP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="netty4-component.html">Netty4 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="nsq-component.html">NSQ Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ognl-language.html">OGNL Language</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="olingo2-component.html">Olingo2 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="olingo4-component.html">Olingo4 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="openshift-component.html">OpenShift Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="openstack-cinder-component.html">OpenStack Cinder Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="openstack-glance-component.html">OpenStack Glance Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="openstack-keystone-component.html">OpenStack Keystone Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="openstack-neutron-component.html">OpenStack Neutron Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="openstack-nova-component.html">OpenStack Nova Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="openstack-swift-component.html">OpenStack Swift Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="openstack.html">Openstack Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="opentracing.html">OpenTracing Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="optaplanner-component.html">OptaPlanner Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="paho-component.html">Paho Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="paxlogging-component.html">OSGi PAX Logging Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="pdf-component.html">PDF Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="pgevent-component.html">PostgresSQL Event Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="lpr-component.html">Printer Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="protobuf-dataformat.html">Protobuf DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="pubnub-component.html">PubNub Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="pulsar-component.html">Apache Pulsar Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="quartz-component.html">Quartz Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="quartz2-component.html">Quartz2 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="quickfix-component.html">QuickFix Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="rabbitmq-component.html">RabbitMQ Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="reactive-streams-component.html">Reactive Streams Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="reactor-component.html">Reactor Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="rest-swagger-component.html">REST Swagger Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="restlet-component.html">Restlet Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ribbon.html">Ribbon Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="rmi-component.html">RMI Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="routebox-component.html">RouteBox Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="rss-component.html">RSS Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="rss-dataformat.html">RSS DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ruby.html">Ruby</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="rx.html">Camel RX (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="rxjava2.html">RxJava2 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="salesforce-component.html">Salesforce Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="sap-netweaver-component.html">SAP NetWeaver Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="xquery-component.html">XQuery Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="xquery-language.html">XQuery Language</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="scala-eip.html">Scala Supported DSL</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="scala-getting-started.html">Scala DSL Getting Started</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="scala-supported-languages.html">Scala DSL Supported Languages</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="scala.html">About the Scala DSL</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="schematron-component.html">Schematron Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="scr.html">Camel SCR (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="javaScript-language.html">JavaScript Language (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="php-language.html">PHP Language (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="python-language.html">Python Language (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ruby-language.html">Ruby Language (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="script.html">Script</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="service-component.html">Service Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="servicenow-component.html">ServiceNow Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="servlet-component.html">Servlet Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="servletlistener.html">ServletListener Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="shiro.html">Shiro Security Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="sip-component.html">SIP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="sjms-batch-component.html">Simple JMS Batch Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="sjms-component.html">Simple JMS Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="sjms2-component.html">Simple JMS2 Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="slack-component.html">Slack Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="smpp-component.html">SMPP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="yaml-snakeyaml-dataformat.html">YAML SnakeYAML DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="snmp-component.html">SNMP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="soapjaxb-dataformat.html">SOAP DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="solr-component.html">Solr Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spark-rest-component.html">Spark Rest Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spark-component.html">Apache Spark Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="splunk-component.html">Splunk Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-batch-component.html">Spring Batch Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-boot.html">Spring Boot</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-cloud-consul.html">Spring Cloud Consul</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-cloud-netflix.html">Spring Cloud Netflix</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-cloud-zookeeper.html">Spring Cloud Zookeeper</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-cloud.html">Spring Cloud</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-integration-component.html">Spring Integration Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-javaconfig.html">Spring Java Config</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-ldap-component.html">Spring LDAP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-redis-component.html">Spring Redis Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-security.html">Spring Security</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-ws-component.html">Spring WebService Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spel-language.html">SpEL Language</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring-event-component.html">Spring Event Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="spring.html">Spring Support</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="sql-component.html">SQL Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="sql-stored-component.html">SQL Stored Procedure Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="ssh-component.html">SSH Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="stax-component.html">StAX Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="stomp-component.html">Stomp Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="stream-component.html">Stream Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="string-template-component.html">String Template Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="swagger-java.html">Swagger Java Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="swagger.html">Swagger Scala Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="syslog-dataformat.html">Syslog DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="tidyMarkup-dataformat.html">TidyMarkup DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="tarfile-dataformat.html">Tar File DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="telegram-component.html">Telegram Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="test-blueprint.html">Blueprint Testing</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="test-cdi.html">CDI Testing</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="test-karaf.html">Test Karaf</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="test-spring.html">Test Spring</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="test.html">Test Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="testcontainers-spring.html">Testcontainers Spring</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="testcontainers.html">Testcontainers</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="testng.html">TestNG (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="thrift-component.html">Thrift Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="thrift-dataformat.html">Thrift DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="tika-component.html">Tika Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="twilio-component.html">Twilio Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="twitter-component.html">Twitter Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="twitter-directmessage-component.html">Twitter Direct Message Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="twitter-search-component.html">Twitter Search Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="twitter-streaming-component.html">Twitter Streaming Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="twitter-timeline-component.html">Twitter Timeline Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="twitter.html">Twitter Components </a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="undertow-component.html">Undertow Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="univocity-csv-dataformat.html">uniVocity CSV DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="univocity-fixed-dataformat.html">uniVocity Fixed Length DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="univocity-tsv-dataformat.html">uniVocity TSV DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="urlrewrite.html">UrlRewrite Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="velocity-component.html">Velocity Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="vertx-component.html">Vert.x Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="weather-component.html">Weather Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="web3j-component.html">Web3j Ethereum Blockchain Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="websocket-jsr356-component.html">Javax Websocket Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="websocket-component.html">Jetty Websocket Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="wordpress-component.html">Wordpress Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="xchange-component.html">XChange Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="xmlBeans-dataformat.html">XML Beans DataFormat (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="xmlrpc-component.html">XML RPC Component (deprecated)</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="xmlrpc-dataformat.html">XML RPC DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="secureXML-dataformat.html">XML Security DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="xmlsecurity-component.html">XML Security Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="xmpp-component.html">XMPP Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="json-xstream-dataformat.html">JSon XStream DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="xstream-dataformat.html">XStream DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="yammer-component.html">Yammer Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="zendesk-component.html">Zendesk Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="zipfile-dataformat.html">Zip File DataFormat</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="zipkin.html">Zipkin Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="zookeeper-master-component.html">ZooKeeper Master Component</a> </li> <li class="nav-item" data-depth="1"> <a class="nav-link" href="zookeeper-component.html">ZooKeeper Component</a> </li> </ul> </li> </ul> </nav> </div> <div class="nav-panel-explore" data-panel="explore"> <div class="context"> <span class="title">Component reference</span> <span class="version">2.x</span> </div> <ul class="components"> <li class="component"> <span class="title">Apache Camel extensions for Quarkus</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-quarkus/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Apache Camel K</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-k/latest/index.html">latest</a> </li> </ul> </li> <li class="component"> <span class="title">Apache Camel Kafka Connector</span> <ul class="versions"> <li class="version is-latest"> <a href="../../camel-kafka-connector/latest/index.html">latest</a> </li> </ul> </li> <li class="component is-current"> <span class="title">Component reference</span> <ul class="versions"> <li class="version is-latest"> <a href="../latest/index.html">latest</a> </li> <li class="version"> <a href="../3.0.x/index.html">3.0.x</a> </li> <li class="version is-current"> <a href="index.html">2.x</a> </li> </ul> </li> <li class="component"> <span class="title">User manual</span> <ul class="versions"> <li class="version is-latest"> <a href="../../manual/latest/index.html">latest</a> </li> </ul> </li> </ul> </div> </div> </aside> </div> <main role="main"> <div class="toolbar" role="navigation"> <button class="nav-toggle"></button> <a href="../../manual/latest/index.html" class="home-link"></a> <nav class="breadcrumbs" aria-label="breadcrumbs"> <ul> <li><a href="index.html">Component reference</a></li> <li><a href="mongodb-component.html">MongoDB Component (deprecated)</a></li> </ul> </nav> <div> <label id="toggle-width-label" for="toggle-width">Wide / Narrow</label> </div> <div class="page-versions"> <button class="version-menu-toggle" title="Show other versions of page" type="button">2.x</button> <div class="version-menu"> <a class="version" href="../latest/mongodb-component.html">latest</a> <a class="version" href="../3.0.x/mongodb-component.html">3.0.x</a> <a class="version is-current" href="mongodb-component.html">2.x</a> </div> </div> <div class="edit-this-page"><a href="https://github.com/apache/camel/edit/camel-2.x/components/camel-mongodb/src/main/docs/mongodb-component.adoc">Edit this Page</a></div> </div> <input type="checkbox" id="toggle-width"> <article class="doc"> <h1 class="page">MongoDB Component (deprecated)</h1> <div id="preamble"> <div class="sectionbody"> <div class="paragraph"> <p><strong>Available as of Camel version 2.10</strong></p> </div> <div class="paragraph"> <p>According to Wikipedia: "NoSQL is a movement promoting a loosely defined class of non-relational data stores that break with a long history of relational databases and ACID guarantees." NoSQL solutions have grown in popularity in the last few years, and major extremely-used sites and services such as Facebook, LinkedIn, Twitter, etc. are known to use them extensively to achieve scalability and agility.</p> </div> <div class="paragraph"> <p>Basically, NoSQL solutions differ from traditional RDBMS (Relational Database Management Systems) in that they don&#8217;t use SQL as their query language and generally don&#8217;t offer ACID-like transactional behaviour nor relational data. Instead, they are designed around the concept of flexible data structures and schemas (meaning that the traditional concept of a database table with a fixed schema is dropped), extreme scalability on commodity hardware and blazing-fast processing.</p> </div> <div class="paragraph"> <p>MongoDB is a very popular NoSQL solution and the camel-mongodb component integrates Camel with MongoDB allowing you to interact with MongoDB collections both as a producer (performing operations on the collection) and as a consumer (consuming documents from a MongoDB collection).</p> </div> <div class="paragraph"> <p>MongoDB revolves around the concepts of documents (not as is office documents, but rather hierarchical data defined in JSON/BSON) and collections. This component page will assume you are familiar with them. Otherwise, visit <a href="http://www.mongodb.org/">http://www.mongodb.org/</a>.</p> </div> <div class="paragraph"> <p>Maven users will need to add the following dependency to their <code>pom.xml</code> for this component:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
    &lt;artifactId&gt;camel-mongodb&lt;/artifactId&gt;
    &lt;version&gt;x.y.z&lt;/version&gt;
    &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_uri_format"><a class="anchor" href="#_uri_format"></a>URI format</h2> <div class="sectionbody"> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">mongodb:connectionBean?database=databaseName&amp;collection=collectionName&amp;operation=operationName[&amp;moreOptions...]</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_mongodb_options"><a class="anchor" href="#_mongodb_options"></a>MongoDB options</h2> <div class="sectionbody"> <div class="paragraph"> <p>The MongoDB component has no options.</p> </div> <div class="paragraph"> <p>The MongoDB endpoint is configured using URI syntax:</p> </div> <div class="listingblock"> <div class="content"> <pre>mongodb:connectionBean</pre> </div> </div> <div class="paragraph"> <p>with the following path and query parameters:</p> </div> <div class="sect2"> <h3 id="_path_parameters_1_parameters"><a class="anchor" href="#_path_parameters_1_parameters"></a>Path Parameters (1 parameters):</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>connectionBean</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required</strong> Name of com.mongodb.Mongo to use.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> </tbody> </table></div> </div> <div class="sect2"> <h3 id="_query_parameters_23_parameters"><a class="anchor" href="#_query_parameters_23_parameters"></a>Query Parameters (23 parameters):</h3> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>collection</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the name of the MongoDB collection to bind to this endpoint</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>collectionIndex</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the collection index (JSON FORMAT : field1 : order1, field2 : order2)</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>createCollection</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Create collection during initialisation if it doesn&#8217;t exist. Default is true.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>database</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the name of the MongoDB database to target</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>operation</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the operation this endpoint will execute against MongoDB. For possible values, see MongoDbOperation.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">MongoDbOperation</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>outputType</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Convert the output of the producer to the selected type : DBObjectList DBObject or DBCursor. DBObjectList or DBCursor applies to findAll and aggregate. DBObject applies to all other operations.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">MongoDbOutputType</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>writeConcern</strong> (common)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Set the WriteConcern for write operations on MongoDB using the standard ones. Resolved from the fields of the WriteConcern class by calling the WriteConcern#valueOf(String) method.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">ACKNOWLEDGED</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">WriteConcern</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bridgeErrorHandler</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Allows for bridging the consumer to the Camel routing Error Handler, which mean any exceptions occurred while the consumer is trying to pickup incoming messages, or the likes, will now be processed as a message and handled by the routing Error Handler. By default the consumer will use the org.apache.camel.spi.ExceptionHandler to deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exceptionHandler</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">To let the consumer use a custom ExceptionHandler. Notice if the option bridgeErrorHandler is enabled then this option is not in use. By default the consumer will deal with exceptions, that will be logged at WARN or ERROR level and ignored.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">ExceptionHandler</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>exchangePattern</strong> (consumer)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the exchange pattern when the consumer creates an exchange.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">ExchangePattern</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>cursorRegenerationDelay</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">MongoDB tailable cursors will block until new data arrives. If no new data is inserted, after some time the cursor will be automatically freed and closed by the MongoDB server. The client is expected to regenerate the cursor if needed. This value specifies the time to wait before attempting to fetch a new cursor, and if the attempt fails, how long before the next attempt is made. Default value is 1000ms.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">1000</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">long</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>dynamicity</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets whether this endpoint will attempt to dynamically resolve the target database and collection from the incoming Exchange properties. Can be used to override at runtime the database and collection specified on the otherwise static endpoint URI. It is disabled by default to boost performance. Enabling it will take a minimal performance hit.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>readPreference</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets a MongoDB ReadPreference on the Mongo connection. Read preferences set directly on the connection will be overridden by this setting. The ReadPreference#valueOf(String) utility method is used to resolve the passed readPreference value. Some examples for the possible values are nearest, primary or secondary etc.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">ReadPreference</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>synchronous</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets whether synchronous processing should be strictly used, or Camel is allowed to use asynchronous processing (if supported).</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>writeResultAsHeader</strong> (advanced)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">In write operations, it determines whether instead of returning WriteResult as the body of the OUT message, we transfer the IN message to the OUT and attach the WriteResult as a header.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>persistentId</strong> (tail)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">One tail tracking collection can host many trackers for several tailable consumers. To keep them separate, each tracker should have its own unique persistentId.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>persistentTailTracking</strong> (tail)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Enable persistent tail tracking, which is a mechanism to keep track of the last consumed message across system restarts. The next time the system is up, the endpoint will recover the cursor from the point where it last stopped slurping records.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">false</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>persistRecords</strong> (tail)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the number of tailed records after which the tail tracking data is persisted to MongoDB.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">-1</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tailTrackCollection</strong> (tail)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Collection where tail tracking information will be persisted. If not specified, MongoDbTailTrackingConfig#DEFAULT_COLLECTION will be used by default.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tailTrackDb</strong> (tail)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Indicates what database the tail tracking mechanism will persist to. If not specified, the current database will be picked by default. Dynamicity will not be taken into account even if enabled, i.e. the tail tracking database will not vary past endpoint initialisation.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tailTrackField</strong> (tail)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Field where the last tracked value will be placed. If not specified, MongoDbTailTrackingConfig#DEFAULT_FIELD will be used by default.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tailTrackIncreasingField</strong> (tail)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Correlation field in the incoming record which is of increasing nature and will be used to position the tailing cursor every time it is generated. The cursor will be (re)created with a query of type: tailTrackIncreasingField lastValue (possibly recovered from persistent tail tracking). Can be of type Integer, Date, String, etc. NOTE: No support for dot notation at the current time, so the field should be at the top level of the document.</p></td> <td class="tableblock halign-center valign-top"></td> <td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>tailTrackingStrategy</strong> (tail)</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the strategy used to extract the increasing field value and to create the query to position the tail cursor.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">LITERAL</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">MongoDBTailTracking Enum</p></td> </tr> </tbody> </table></div> </div> </div> </div> <div class="sect1"> <h2 id="_spring_boot_auto_configuration"><a class="anchor" href="#_spring_boot_auto_configuration"></a>Spring Boot Auto-Configuration</h2> <div class="sectionbody"> <div class="paragraph"> <p>When using Spring Boot make sure to use the following Maven dependency to have support for auto configuration:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;
  &lt;artifactId&gt;camel-mongodb-starter&lt;/artifactId&gt;
  &lt;version&gt;x.x.x&lt;/version&gt;
  &lt;!-- use the same version as your Camel core version --&gt;
&lt;/dependency&gt;</code></pre> </div> </div> <div class="paragraph"> <p>The component supports 2 options, which are listed below.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">Description</th> <th class="tableblock halign-center valign-top">Default</th> <th class="tableblock halign-left valign-top">Type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.mongodb.enabled</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Enable mongodb component</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><strong>camel.component.mongodb.resolve-property-placeholders</strong></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Whether the component should resolve property placeholders on itself when starting. Only properties which are of String type can use property placeholders.</p></td> <td class="tableblock halign-center valign-top"><p class="tableblock">true</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td> </tr> </tbody> </table></div> </div> </div> <div class="sect1"> <h2 id="_configuration_of_database_in_spring_xml"><a class="anchor" href="#_configuration_of_database_in_spring_xml"></a>Configuration of database in Spring XML</h2> <div class="sectionbody"> <div class="paragraph"> <p>The following Spring XML creates a bean defining the connection to a MongoDB instance.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"&gt;
    &lt;bean id="mongoBean" class="com.mongodb.Mongo"&gt;
        &lt;constructor-arg name="host" value="${mongodb.host}" /&gt;
        &lt;constructor-arg name="port" value="${mongodb.port}" /&gt;
    &lt;/bean&gt;
&lt;/beans&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_sample_route"><a class="anchor" href="#_sample_route"></a>Sample route</h2> <div class="sectionbody"> <div class="paragraph"> <p>The following route defined in Spring XML executes the operation &lt;&lt;*dbStats*&gt;&gt; on a collection.</p> </div> <div class="paragraph"> <p><strong>Get DB stats for specified collection</strong></p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;route&gt;
  &lt;from uri="direct:start" /&gt;
  &lt;!-- using bean 'mongoBean' defined above --&gt;
  &lt;to uri="mongodb:mongoBean?database=${mongodb.database}&amp;amp;collection=${mongodb.collection}&amp;amp;operation=getDbStats" /&gt;
  &lt;to uri="direct:result" /&gt;
&lt;/route&gt;</code></pre> </div> </div> </div> </div> <div class="sect1"> <h2 id="_mongodb_operations_producer_endpoints"><a class="anchor" href="#_mongodb_operations_producer_endpoints"></a>MongoDB operations - producer endpoints</h2> <div class="sectionbody"> <div class="sect2"> <h3 id="_query_operations"><a class="anchor" href="#_query_operations"></a>Query operations</h3> <div class="sect3"> <h4 id="_findbyid"><a class="anchor" href="#_findbyid"></a>findById</h4> <div class="paragraph"> <p>This operation retrieves only one element from the collection whose _id field matches the content of the IN message body. The incoming object can be anything that has an equivalent to a BSON type. See <a href="http://bsonspec.org/" class="bare">http://bsonspec.org/</a><mark>/specification[<a href="http://bsonspec.org/" class="bare">http://bsonspec.org/</a></mark>/specification] and <a href="http://www.mongodb.org/display/DOCS/Java+Types">http://www.mongodb.org/display/DOCS/Java+Types</a>.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:findById")
    .to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=findById")
    .to("mock:resultFindById");</code></pre> </div> </div> </div> <div class="sect3"> <h4 id="_findonebyquery"><a class="anchor" href="#_findonebyquery"></a>findOneByQuery</h4> <div class="paragraph"> <p>Use this operation to retrieve just one element from the collection that matches a MongoDB query. <strong>The query object is extracted from the IN message body</strong>, i.e. it should be of type <code>DBObject</code> or convertible to <code>DBObject</code>. It can be a JSON String or a Hashmap. See <a href="#_type_conversions">Type conversions</a> for more info.</p> </div> <div class="paragraph"> <p>Example with no query (returns any object of the collection):</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:findOneByQuery")
    .to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=findOneByQuery")
    .to("mock:resultFindOneByQuery");</code></pre> </div> </div> <div class="paragraph"> <p>Example with a query (returns one matching result):</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:findOneByQuery")
    .setBody().constant("{ \"name\": \"Raul Kripalani\" }")
    .to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=findOneByQuery")
    .to("mock:resultFindOneByQuery");</code></pre> </div> </div> </div> <div class="sect3"> <h4 id="_findall"><a class="anchor" href="#_findall"></a>findAll</h4> <div class="paragraph"> <p>The <code>findAll</code> operation returns all documents matching a query, or none at all, in which case all documents contained in the collection are returned. <strong>The query object is extracted from the IN message body</strong>, i.e. it should be of type <code>DBObject</code> or convertible to <code>DBObject</code>. It can be a JSON String or a Hashmap. See <a href="#_type_conversions">Type conversions</a> for more info.</p> </div> <div class="paragraph"> <p>Example with no query (returns all object in the collection):</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:findAll")
    .to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=findAll")
    .to("mock:resultFindAll");</code></pre> </div> </div> <div class="paragraph"> <p>Example with a query (returns all matching results):</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:findAll")
    .setBody().constant("{ \"name\": \"Raul Kripalani\" }")
    .to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=findAll")
    .to("mock:resultFindAll");</code></pre> </div> </div> <div class="paragraph"> <p>Paging and efficient retrieval is supported via the following headers:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Header key</th> <th class="tableblock halign-left valign-top">Quick constant</th> <th class="tableblock halign-left valign-top">Description (extracted from MongoDB API doc)</th> <th class="tableblock halign-left valign-top">Expected type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelMongoDbNumToSkip</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>MongoDbConstants.NUM_TO_SKIP</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Discards a given number of elements at the beginning of the cursor.</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int/Integer</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelMongoDbLimit</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>MongoDbConstants.LIMIT</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Limits the number of elements returned.</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int/Integer</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelMongoDbBatchSize</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>MongoDbConstants.BATCH_SIZE</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Limits the number of elements returned in one batch. A cursor typically fetches a batch of result objects and store them locally. If batchSize is positive, it represents the size of each batch of objects retrieved. It can be adjusted to optimize performance and limit data transfer. If batchSize is negative, it will limit of number objects returned, that fit within the max batch size limit (usually 4MB), and cursor will be closed. For example if batchSize is -10, then the server will return a maximum of 10 documents and as many as can fit in 4MB, then close the cursor. Note that this feature is different from limit() in that documents must fit within a maximum size, and it removes the need to send a request to close the cursor server-side. The batch size can be changed even after a cursor is iterated, in which case the setting will apply on the next batch retrieval.</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int/Integer</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>You can also "stream" the documents returned from the server into your route by including outputType=DBCursor (Camel 2.16+) as an endpoint option which may prove simpler than setting the above headers. This hands your Exchange the DBCursor from the Mongo driver, just as if you were executing the findAll() within the Mongo shell, allowing your route to iterate over the results. By default and without this option, this component will load the documents from the driver&#8217;s cursor into a List and return this to your route - which may result in a large number of in-memory objects. Remember, with a DBCursor do not ask for the number of documents matched - see the MongoDB documentation site for details.</p> </div> <div class="paragraph"> <p>Example with option outputType=DBCursor and batch size :</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:findAll")
    .setHeader(MongoDbConstants.BATCH_SIZE).constant(10)
    .setBody().constant("{ \"name\": \"Raul Kripalani\" }")
    .to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=findAll&amp;outputType=DBCursor")
    .to("mock:resultFindAll");</code></pre> </div> </div> <div class="paragraph"> <p>The <code>findAll</code> operation will also return the following OUT headers to enable you to iterate through result pages if you are using paging:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Header key</th> <th class="tableblock halign-left valign-top">Quick constant</th> <th class="tableblock halign-left valign-top">Description (extracted from MongoDB API doc)</th> <th class="tableblock halign-left valign-top">Data type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelMongoDbResultTotalSize</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>MongoDbConstants.RESULT_TOTAL_SIZE</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Number of objects matching the query. This does not take limit/skip into consideration.</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int/Integer</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelMongoDbResultPageSize</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>MongoDbConstants.RESULT_PAGE_SIZE</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Number of objects matching the query. This does not take limit/skip into consideration.</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int/Integer</p></td> </tr> </tbody> </table></div> </div> <div class="sect3"> <h4 id="_count"><a class="anchor" href="#_count"></a>count</h4> <div class="paragraph"> <p>Returns the total number of objects in a collection, returning a Long as the OUT message body.</p> </div> <div class="paragraph"> <p>The following example will count the number of records in the "dynamicCollectionName" collection. Notice how dynamicity is enabled, and as a result, the operation will not run against the "notableScientists" collection, but against the "dynamicCollectionName" collection.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// from("direct:count").to("mongodb:myDb?database=tickets&amp;collection=flights&amp;operation=count&amp;dynamicity=true");
Long result = template.requestBodyAndHeader("direct:count", "irrelevantBody", MongoDbConstants.COLLECTION, "dynamicCollectionName");
assertTrue("Result is not of type Long", result instanceof Long);</code></pre> </div> </div> <div class="paragraph"> <p>From<strong>Camel 2.14</strong>onwards you can provide a<code>com.mongodb.DBObject</code>object in the message body as a query,and operation will return the amount of documents matching this criteria.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">DBObject query = ...
Long count = template.requestBodyAndHeader("direct:count", query, MongoDbConstants.COLLECTION, "dynamicCollectionName");</code></pre> </div> </div> </div> <div class="sect3"> <h4 id="_specifying_a_fields_filter_projection"><a class="anchor" href="#_specifying_a_fields_filter_projection"></a>Specifying a fields filter (projection)</h4> <div class="paragraph"> <p>Query operations will, by default, return the matching objects in their entirety (with all their fields). If your documents are large and you only require retrieving a subset of their fields, you can specify a field filter in all query operations, simply by setting the relevant <code>DBObject</code> (or type convertible to <code>DBObject</code>, such as a JSON String, Map, etc.) on the <code>CamelMongoDbFieldsFilter</code> header, constant shortcut: <code>MongoDbConstants.FIELDS_FILTER</code>.</p> </div> <div class="paragraph"> <p>Here is an example that uses MongoDB&#8217;s BasicDBObjectBuilder to simplify the creation of DBObjects. It retrieves all fields except <code>_id</code> and <code>boringField</code>:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// route: from("direct:findAll").to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=findAll")
DBObject fieldFilter = BasicDBObjectBuilder.start().add("_id", 0).add("boringField", 0).get();
Object result = template.requestBodyAndHeader("direct:findAll", (Object) null, MongoDbConstants.FIELDS_FILTER, fieldFilter);</code></pre> </div> </div> </div> <div class="sect3"> <h4 id="_specifying_a_sort_clause"><a class="anchor" href="#_specifying_a_sort_clause"></a>Specifying a sort clause</h4> <div class="paragraph"> <p>There is a often a requirement to fetch the min/max record from a collection based on sorting by a particular field. In Mongo the operation is performed using syntax similar to:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code>db.collection.find().sort({_id: -1}).limit(1)
// or
db.collection.findOne({$query:{},$orderby:{_id:-1}})</code></pre> </div> </div> <div class="paragraph"> <p>In a Camel route the SORT_BY header can be used with the findOneByQuery operation to achieve the same result. If the FIELDS_FILTER header is also specified the operation will return a single field/value pair that can be passed directly to another component (for example, a parameterized MyBatis SELECT query). This example demonstrates fetching the temporally newest document from a collection and reducing the result to a single field, based on the <code>documentTimestamp</code> field:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">.from("direct:someTriggeringEvent")
.setHeader(MongoDbConstants.SORT_BY).constant("{\"documentTimestamp\": -1}")
.setHeader(MongoDbConstants.FIELDS_FILTER).constant("{\"documentTimestamp\": 1}")
.setBody().constant("{}")
.to("mongodb:myDb?database=local&amp;collection=myDemoCollection&amp;operation=findOneByQuery")
.to("direct:aMyBatisParameterizedSelect")
;</code></pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="_createupdate_operations"><a class="anchor" href="#_createupdate_operations"></a>Create/update operations</h3> <div class="sect3"> <h4 id="_insert"><a class="anchor" href="#_insert"></a>insert</h4> <div class="paragraph"> <p>Inserts an new object into the MongoDB collection, taken from the IN message body. Type conversion is attempted to turn it into <code>DBObject</code> or a <code>List</code>.</p> </div> <div class="literalblock"> <div class="content"> <pre> Two modes are supported: single insert and multiple insert. For
multiple insert, the endpoint will expect a List, Array or Collections
of objects of any type, as long as they are - or can be converted to -
`DBObject`. All objects are inserted at once. The endpoint will
intelligently decide which backend operation to invoke (single or
multiple insert) depending on the input.</pre> </div> </div> <div class="paragraph"> <p>Example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:insert")
    .to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=insert");</code></pre> </div> </div> <div class="paragraph"> <p>The operation will return a WriteResult, and depending on the <code>WriteConcern</code> or the value of the <code>invokeGetLastError</code> option, <code>getLastError()</code> would have been called already or not. If you want to access the ultimate result of the write operation, you need to retrieve the <code>CommandResult</code> by calling <code>getLastError()</code> or <code>getCachedLastError()</code> on the <code>WriteResult</code>. Then you can verify the result by calling <code>CommandResult.ok()</code>, <code>CommandResult.getErrorMessage()</code> and/or <code>CommandResult.getException()</code>.</p> </div> <div class="paragraph"> <p>Note that the new object&#8217;s <code>_id</code> must be unique in the collection. If you don&#8217;t specify the value, MongoDB will automatically generate one for you. But if you do specify it and it is not unique, the insert operation will fail (and for Camel to notice, you will need to enable invokeGetLastError or set a WriteConcern that waits for the write result).</p> </div> <div class="paragraph"> <p>This is not a limitation of the component, but it is how things work in MongoDB for higher throughput. If you are using a custom <code>_id</code>, you are expected to ensure at the application level that is unique (and this is a good practice too).</p> </div> <div class="paragraph"> <p>Since Camel <strong>2.15</strong>: OID(s) of the inserted record(s) is stored in the message header under<code>CamelMongoOid</code> key (<code>MongoDbConstants.OID</code> constant). The value stored is<code>org.bson.types.ObjectId</code> for single insert or <code>java.util.List&lt;org.bson.types.ObjectId&gt;</code> if multiple records have been inserted.</p> </div> </div> <div class="sect3"> <h4 id="_save"><a class="anchor" href="#_save"></a>save</h4> <div class="paragraph"> <p>The save operation is equivalent to an <em>upsert</em> (UPdate, inSERT) operation, where the record will be updated, and if it doesn&#8217;t exist, it will be inserted, all in one atomic operation. MongoDB will perform the matching based on the _id field.</p> </div> <div class="paragraph"> <p>Beware that in case of an update, the object is replaced entirely and the usage of <a href="http://www.mongodb.org/display/DOCS/Updating#Updating-ModifierOperations">MongoDB&#8217;s $modifiers</a> is not permitted. Therefore, if you want to manipulate the object if it already exists, you have two options:</p> </div> <div class="olist arabic"> <ol class="arabic"> <li> <p>perform a query to retrieve the entire object first along with all its fields (may not be efficient), alter it inside Camel and then save it.</p> </li> <li> <p>use the update operation with <a href="http://www.mongodb.org/display/DOCS/Updating#Updating-ModifierOperations">$modifiers</a>, which will execute the update at the server-side instead. You can enable the upsert flag, in which case if an insert is required, MongoDB will apply the $modifiers to the filter query object and insert the result.</p> </li> </ol> </div> <div class="paragraph"> <p>For example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("direct:insert")
    .to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=save");</code></pre> </div> </div> </div> <div class="sect3"> <h4 id="_update"><a class="anchor" href="#_update"></a>update</h4> <div class="paragraph"> <p>Update one or multiple records on the collection. Requires a List&lt;DBObject&gt; as the IN message body containing exactly 2 elements:</p> </div> <div class="ulist"> <ul> <li> <p>Element 1 (index 0) &#8658; filter query &#8658; determines what objects will be affected, same as a typical query object</p> </li> <li> <p>Element 2 (index 1) &#8658; update rules &#8658; how matched objects will be updated. All <a href="http://www.mongodb.org/display/DOCS/Updating#Updating-ModifierOperations">modifier operations</a> from MongoDB are supported.</p> </li> </ul> </div> <div class="admonitionblock note"> <div class="table-wrapper"><table> <tr> <td class="icon"> <i class="fa icon-note" title="Note"></i> </td> <td class="content"> <strong>Multiupdates</strong> . By default, MongoDB will only update 1 object even if multiple objects match the filter query. To instruct MongoDB to update <strong>all</strong> matching records, set the <code>CamelMongoDbMultiUpdate</code> IN message header to <code>true</code>. </td> </tr> </table></div> </div> <div class="paragraph"> <p>A header with key <code>CamelMongoDbRecordsAffected</code> will be returned (<code>MongoDbConstants.RECORDS_AFFECTED</code> constant) with the number of records updated (copied from <code>WriteResult.getN()</code>).</p> </div> <div class="paragraph"> <p>Supports the following IN message headers:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Header key</th> <th class="tableblock halign-left valign-top">Quick constant</th> <th class="tableblock halign-left valign-top">Description (extracted from MongoDB API doc)</th> <th class="tableblock halign-left valign-top">Expected type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelMongoDbMultiUpdate</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>MongoDbConstants.MULTIUPDATE</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">If the update should be applied to all objects matching. See <a href="http://www.mongodb.org/display/DOCS/Atomic+Operations">http://www.mongodb.org/display/DOCS/Atomic+Operations</a></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean/Boolean</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelMongoDbUpsert</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>MongoDbConstants.UPSERT</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">If the database should create the element if it does not exist</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean/Boolean</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>For example, the following will update <strong>all</strong> records whose filterField field equals true by setting the value of the "scientist" field to "Darwin":</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// route: from("direct:update").to("mongodb:myDb?database=science&amp;collection=notableScientists&amp;operation=update");
DBObject filterField = new BasicDBObject("filterField", true);
DBObject updateObj = new BasicDBObject("$set", new BasicDBObject("scientist", "Darwin"));
Object result = template.requestBodyAndHeader("direct:update", new Object[] {filterField, updateObj}, MongoDbConstants.MULTIUPDATE, true);</code></pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="_delete_operations"><a class="anchor" href="#_delete_operations"></a>Delete operations</h3> <div class="sect3"> <h4 id="_remove"><a class="anchor" href="#_remove"></a>remove</h4> <div class="paragraph"> <p>Remove matching records from the collection. The IN message body will act as the removal filter query, and is expected to be of type <code>DBObject</code> or a type convertible to it.</p> </div> <div class="literalblock"> <div class="content"> <pre> The following example will remove all objects whose field
'conditionField' equals true, in the science database, notableScientists
collection:</pre> </div> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// route: from("direct:remove").to("mongodb:myDb?database=science&amp;collection=notableScientists&amp;operation=remove");
DBObject conditionField = new BasicDBObject("conditionField", true);
Object result = template.requestBody("direct:remove", conditionField);</code></pre> </div> </div> <div class="paragraph"> <p>A header with key <code>CamelMongoDbRecordsAffected</code> is returned (<code>MongoDbConstants.RECORDS_AFFECTED</code> constant) with type <code>int</code>, containing the number of records deleted (copied from <code>WriteResult.getN()</code>).</p> </div> </div> </div> <div class="sect2"> <h3 id="_bulk_write_operations"><a class="anchor" href="#_bulk_write_operations"></a>Bulk Write Operations</h3> <div class="sect3"> <h4 id="_bulkwrite"><a class="anchor" href="#_bulkwrite"></a>bulkWrite</h4> <div class="paragraph"> <p><strong>Available as of Camel 2.21</strong></p> </div> <div class="paragraph"> <p>Performs write operations in bulk with controls for order of execution. Requires a <code>List&lt;WriteModel&lt;DBObject&gt;&gt;</code> as the IN message body containing commands for insert, update, and delete operations.</p> </div> <div class="paragraph"> <p>The following example will insert a new scientist "Pierre Curie", update record with id "5" by setting the value of the "scientist" field to "Marie Curie" and delete record with id "3" :</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// route: from("direct:bulkWrite").to("mongodb:myDb?database=science&amp;collection=notableScientists&amp;operation=bulkWrite");
List&lt;WriteModel&lt;DBObject&gt;&gt; bulkOperations = Arrays.asList(
            new InsertOneModel&lt;&gt;(new BasicDBObject("scientist", "Pierre Curie")),
            new UpdateOneModel&lt;&gt;(new BasicDBObject("_id", "5"),
                                 new BasicDBObject("$set", new BasicDBObject("scientist", "Marie Curie"))),
            new DeleteOneModel&lt;&gt;(new BasicDBObject("_id", "3")));

BulkWriteResult result = template.requestBody("direct:bulkWrite", bulkOperations, BulkWriteResult.class);</code></pre> </div> </div> <div class="paragraph"> <p>By default, operations are executed in order and interrupted on the first write error without processing any remaining write operations in the list. To instruct MongoDB to continue to process remaining write operations in the list, set the <code>CamelMongoDbBulkOrdered</code> IN message header to <code>false</code>. Unordered operations are executed in parallel and this behavior is not guaranteed.</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Header key</th> <th class="tableblock halign-left valign-top">Quick constant</th> <th class="tableblock halign-left valign-top">Description (extracted from MongoDB API doc)</th> <th class="tableblock halign-left valign-top">Expected type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelMongoDbBulkOrdered</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>MongoDbConstants.BULK_ORDERED</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Perform an ordered or unordered operation execution. Defaults to true.</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean/Boolean</p></td> </tr> </tbody> </table></div> </div> </div> <div class="sect2"> <h3 id="_other_operations"><a class="anchor" href="#_other_operations"></a>Other operations</h3> <div class="sect3"> <h4 id="_aggregate"><a class="anchor" href="#_aggregate"></a>aggregate</h4> <div class="paragraph"> <p><strong>Available as of Camel 2.14</strong></p> </div> <div class="paragraph"> <p>Perform a aggregation with the given pipeline contained in the body. <strong>Aggregations could be long and heavy operations. Use with care.</strong></p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// route: from("direct:aggregate").to("mongodb:myDb?database=science&amp;collection=notableScientists&amp;operation=aggregate");
from("direct:aggregate")
    .setBody().constant("[{ $match : {$or : [{\"scientist\" : \"Darwin\"},{\"scientist\" : \"Einstein\"}]}},{ $group: { _id: \"$scientist\", count: { $sum: 1 }} } ]")
    .to("mongodb:myDb?database=science&amp;collection=notableScientists&amp;operation=aggregate")
    .to("mock:resultAggregate");</code></pre> </div> </div> <div class="paragraph"> <p>Supports the following IN message headers:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Header key</th> <th class="tableblock halign-left valign-top">Quick constant</th> <th class="tableblock halign-left valign-top">Description (extracted from MongoDB API doc)</th> <th class="tableblock halign-left valign-top">Expected type</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelMongoDbBatchSize</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>MongoDbConstants.BATCH_SIZE</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Sets the number of documents to return per batch.</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">int/Integer</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>CamelMongoDbAllowDiskUse</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>MongoDbConstants.ALLOW_DISK_USE</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">Enable aggregation pipeline stages to write data to temporary files.</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">boolean/Boolean</p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>Efficient retrieval is supported via outputType=DBCursor.</p> </div> <div class="paragraph"> <p>You can also "stream" the documents returned from the server into your route by including outputType=DBCursor (Camel 2.21+) as an endpoint option which may prove simpler than setting the above headers. This hands your Exchange the DBCursor from the Mongo driver, just as if you were executing the aggregate() within the Mongo shell, allowing your route to iterate over the results. By default and without this option, this component will load the documents from the driver&#8217;s cursor into a List and return this to your route - which may result in a large number of in-memory objects. Remember, with a DBCursor do not ask for the number of documents matched - see the MongoDB documentation site for details.</p> </div> <div class="paragraph"> <p>Example with option outputType=DBCursor and batch size:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// route: from("direct:aggregate").to("mongodb:myDb?database=science&amp;collection=notableScientists&amp;operation=aggregate");
from("direct:aggregate")
    .setHeader(MongoDbConstants.BATCH_SIZE).constant(10)
    .setBody().constant("[{ $match : {$or : [{\"scientist\" : \"Darwin\"},{\"scientist\" : \"Einstein\"}]}},{ $group: { _id: \"$scientist\", count: { $sum: 1 }} } ]")
    .to("mongodb:myDb?database=science&amp;collection=notableScientists&amp;operation=aggregate&amp;outputType=DBCursor")
    .to("mock:resultAggregate");</code></pre> </div> </div> </div> <div class="sect3"> <h4 id="_getdbstats"><a class="anchor" href="#_getdbstats"></a>getDbStats</h4> <div class="paragraph"> <p>Equivalent of running the <code>db.stats()</code> command in the MongoDB shell, which displays useful statistic figures about the database.</p> </div> <div class="literalblock"> <div class="content"> <pre>For example:</pre> </div> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&gt; db.stats();
{
    "db" : "test",
    "collections" : 7,
    "objects" : 719,
    "avgObjSize" : 59.73296244784423,
    "dataSize" : 42948,
    "storageSize" : 1000058880,
    "numExtents" : 9,
    "indexes" : 4,
    "indexSize" : 32704,
    "fileSize" : 1275068416,
    "nsSizeMB" : 16,
    "ok" : 1
}</code></pre> </div> </div> <div class="paragraph"> <p>Usage example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// from("direct:getDbStats").to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=getDbStats");
Object result = template.requestBody("direct:getDbStats", "irrelevantBody");
assertTrue("Result is not of type DBObject", result instanceof DBObject);</code></pre> </div> </div> <div class="paragraph"> <p>The operation will return a data structure similar to the one displayed in the shell, in the form of a <code>DBObject</code> in the OUT message body.</p> </div> </div> <div class="sect3"> <h4 id="_getcolstats"><a class="anchor" href="#_getcolstats"></a>getColStats</h4> <div class="paragraph"> <p>Equivalent of running the <code>db.collection.stats()</code> command in the MongoDB shell, which displays useful statistic figures about the collection.</p> </div> <div class="literalblock"> <div class="content"> <pre>For example:</pre> </div> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">&gt; db.camelTest.stats();
{
    "ns" : "test.camelTest",
    "count" : 100,
    "size" : 5792,
    "avgObjSize" : 57.92,
    "storageSize" : 20480,
    "numExtents" : 2,
    "nindexes" : 1,
    "lastExtentSize" : 16384,
    "paddingFactor" : 1,
    "flags" : 1,
    "totalIndexSize" : 8176,
    "indexSizes" : {
        "_id_" : 8176
    },
    "ok" : 1
}</code></pre> </div> </div> <div class="paragraph"> <p>Usage example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// from("direct:getColStats").to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=getColStats");
Object result = template.requestBody("direct:getColStats", "irrelevantBody");
assertTrue("Result is not of type DBObject", result instanceof DBObject);</code></pre> </div> </div> <div class="paragraph"> <p>The operation will return a data structure similar to the one displayed in the shell, in the form of a <code>DBObject</code> in the OUT message body.</p> </div> </div> <div class="sect3"> <h4 id="_command"><a class="anchor" href="#_command"></a>command</h4> <div class="paragraph"> <p><strong>Available as of Camel 2.15</strong></p> </div> <div class="paragraph"> <p>Run the body as a command on database. Usefull for admin operation as getting host informations, replication or sharding status.</p> </div> <div class="paragraph"> <p>Collection parameter is not use for this operation.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// route: from("command").to("mongodb:myDb?database=science&amp;operation=command");
DBObject commandBody = new BasicDBObject("hostInfo", "1");
Object result = template.requestBody("direct:command", commandBody);</code></pre> </div> </div> </div> </div> <div class="sect2"> <h3 id="_dynamic_operations"><a class="anchor" href="#_dynamic_operations"></a>Dynamic operations</h3> <div class="paragraph"> <p>An Exchange can override the endpoint&#8217;s fixed operation by setting the <code>CamelMongoDbOperation</code> header, defined by the <code>MongoDbConstants.OPERATION_HEADER</code> constant.</p> </div> <div class="literalblock"> <div class="content"> <pre> The values supported are determined by the MongoDbOperation enumeration
and match the accepted values for the `operation` parameter on the
endpoint URI.</pre> </div> </div> <div class="paragraph"> <p>For example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// from("direct:insert").to("mongodb:myDb?database=flights&amp;collection=tickets&amp;operation=insert");
Object result = template.requestBodyAndHeader("direct:insert", "irrelevantBody", MongoDbConstants.OPERATION_HEADER, "count");
assertTrue("Result is not of type Long", result instanceof Long);</code></pre> </div> </div> </div> <div class="sect2"> <h3 id="_tailable_cursor_consumer"><a class="anchor" href="#_tailable_cursor_consumer"></a>Tailable Cursor Consumer</h3> <div class="paragraph"> <p>MongoDB offers a mechanism to instantaneously consume ongoing data from a collection, by keeping the cursor open just like the <code>tail -f</code> command of *nix systems. This mechanism is significantly more efficient than a scheduled poll, due to the fact that the server pushes new data to the client as it becomes available, rather than making the client ping back at scheduled intervals to fetch new data. It also reduces otherwise redundant network traffic.</p> </div> <div class="paragraph"> <p>There is only one requisite to use tailable cursors: the collection must be a "capped collection", meaning that it will only hold N objects, and when the limit is reached, MongoDB flushes old objects in the same order they were originally inserted. For more information, please refer to: <a href="http://www.mongodb.org/display/DOCS/Tailable+Cursors">http://www.mongodb.org/display/DOCS/Tailable+Cursors</a>.</p> </div> <div class="paragraph"> <p>The Camel MongoDB component implements a tailable cursor consumer, making this feature available for you to use in your Camel routes. As new objects are inserted, MongoDB will push them as DBObjects in natural order to your tailable cursor consumer, who will transform them to an Exchange and will trigger your route logic.</p> </div> </div> </div> </div> <div class="sect1"> <h2 id="_how_the_tailable_cursor_consumer_works"><a class="anchor" href="#_how_the_tailable_cursor_consumer_works"></a>How the tailable cursor consumer works</h2> <div class="sectionbody"> <div class="paragraph"> <p>To turn a cursor into a tailable cursor, a few special flags are to be signalled to MongoDB when first generating the cursor. Once created, the cursor will then stay open and will block upon calling the <code>DBCursor.next()</code> method until new data arrives. However, the MongoDB server reserves itself the right to kill your cursor if new data doesn&#8217;t appear after an indeterminate period. If you are interested to continue consuming new data, you have to regenerate the cursor. And to do so, you will have to remember the position where you left off or else you will start consuming from the top again.</p> </div> <div class="paragraph"> <p>The Camel MongoDB tailable cursor consumer takes care of all these tasks for you. You will just need to provide the key to some field in your data of increasing nature, which will act as a marker to position your cursor every time it is regenerated, e.g. a timestamp, a sequential ID, etc. It can be of any datatype supported by MongoDB. Date, Strings and Integers are found to work well. We call this mechanism "tail tracking" in the context of this component.</p> </div> <div class="paragraph"> <p>The consumer will remember the last value of this field and whenever the cursor is to be regenerated, it will run the query with a filter like: <code>increasingField &gt; lastValue</code>, so that only unread data is consumed.</p> </div> <div class="paragraph"> <p><strong>Setting the increasing field:</strong> Set the key of the increasing field on the endpoint URI <code>tailTrackingIncreasingField</code> option. In Camel 2.10, it must be a top-level field in your data, as nested navigation for this field is not yet supported. That is, the "timestamp" field is okay, but "nested.timestamp" will not work. Please open a ticket in the Camel JIRA if you do require support for nested increasing fields.</p> </div> <div class="paragraph"> <p><strong>Cursor regeneration delay:</strong> One thing to note is that if new data is not already available upon initialisation, MongoDB will kill the cursor instantly. Since we don&#8217;t want to overwhelm the server in this case, a <code>cursorRegenerationDelay</code> option has been introduced (with a default value of 1000ms.), which you can modify to suit your needs.</p> </div> <div class="paragraph"> <p>An example:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("mongodb:myDb?database=flights&amp;collection=cancellations&amp;tailTrackIncreasingField=departureTime")
    .id("tailableCursorConsumer1")
    .autoStartup(false)
    .to("mock:test");</code></pre> </div> </div> <div class="paragraph"> <p>The above route will consume from the "flights.cancellations" capped collection, using "departureTime" as the increasing field, with a default regeneration cursor delay of 1000ms.</p> </div> </div> </div> <div class="sect1"> <h2 id="_persistent_tail_tracking"><a class="anchor" href="#_persistent_tail_tracking"></a>Persistent tail tracking</h2> <div class="sectionbody"> <div class="paragraph"> <p>Standard tail tracking is volatile and the last value is only kept in memory. However, in practice you will need to restart your Camel container every now and then, but your last value would then be lost and your tailable cursor consumer would start consuming from the top again, very likely sending duplicate records into your route.</p> </div> <div class="paragraph"> <p>To overcome this situation, you can enable the <strong>persistent tail tracking</strong> feature to keep track of the last consumed increasing value in a special collection inside your MongoDB database too. When the consumer initialises again, it will restore the last tracked value and continue as if nothing happened.</p> </div> <div class="paragraph"> <p>The last read value is persisted on two occasions: every time the cursor is regenerated and when the consumer shuts down. We may consider persisting at regular intervals too in the future (flush every 5 seconds) for added robustness if the demand is there. To request this feature, please open a ticket in the Camel JIRA.</p> </div> </div> </div> <div class="sect1"> <h2 id="_enabling_persistent_tail_tracking"><a class="anchor" href="#_enabling_persistent_tail_tracking"></a>Enabling persistent tail tracking</h2> <div class="sectionbody"> <div class="paragraph"> <p>To enable this function, set at least the following options on the endpoint URI:</p> </div> <div class="ulist"> <ul> <li> <p><code>persistentTailTracking</code> option to <code>true</code></p> </li> <li> <p><code>persistentId</code> option to a unique identifier for this consumer, so that the same collection can be reused across many consumers</p> </li> </ul> </div> <div class="paragraph"> <p>Additionally, you can set the <code>tailTrackDb</code>, <code>tailTrackCollection</code> and <code>tailTrackField</code> options to customise where the runtime information will be stored. Refer to the endpoint options table at the top of this page for descriptions of each option.</p> </div> <div class="paragraph"> <p>For example, the following route will consume from the "flights.cancellations" capped collection, using "departureTime" as the increasing field, with a default regeneration cursor delay of 1000ms, with persistent tail tracking turned on, and persisting under the "cancellationsTracker" id on the "flights.camelTailTracking", storing the last processed value under the "lastTrackingValue" field (<code>camelTailTracking</code> and <code>lastTrackingValue</code> are defaults).</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("mongodb:myDb?database=flights&amp;collection=cancellations&amp;tailTrackIncreasingField=departureTime&amp;persistentTailTracking=true" +
     "&amp;persistentId=cancellationsTracker")
    .id("tailableCursorConsumer2")
    .autoStartup(false)
    .to("mock:test");</code></pre> </div> </div> <div class="paragraph"> <p>Below is another example identical to the one above, but where the persistent tail tracking runtime information will be stored under the "trackers.camelTrackers" collection, in the "lastProcessedDepartureTime" field:</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">from("mongodb:myDb?database=flights&amp;collection=cancellations&amp;tailTrackIncreasingField=departureTime&amp;persistentTailTracking=true" +
     "&amp;persistentId=cancellationsTracker&amp;tailTrackDb=trackers&amp;tailTrackCollection=camelTrackers" +
     "&amp;tailTrackField=lastProcessedDepartureTime")
    .id("tailableCursorConsumer3")
    .autoStartup(false)
    .to("mock:test");</code></pre> </div> </div> <div class="sect2"> <h3 id="_oplog_tail_tracking"><a class="anchor" href="#_oplog_tail_tracking"></a>Oplog Tail Tracking</h3> <div class="paragraph"> <p>The <strong>oplog</strong> collection tracking feature allows to implement trigger like functionality in MongoDB. In order to activate this collection you will have first to activate a replica set. For more information on this topic please check <a href="https://docs.mongodb.com/manual/tutorial/deploy-replica-set/" class="bare">https://docs.mongodb.com/manual/tutorial/deploy-replica-set/</a> .</p> </div> <div class="paragraph"> <p>Below you can find an example of a Java DSL based route demonstrating how you can use the component to track the <strong>oplog</strong> collection. In this specific case we are filtering the events which affect a collection <strong>customers</strong> in database <strong>optlog_test</strong>. Note that the <code>tailTrackIncreasingField</code> is a timestamp field ('ts') which implies that you have to use the <code>tailTrackingStrategy</code> parameter with the <strong>TIMESTAMP</strong> value.</p> </div> <div class="listingblock"> <div class="content"> <pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">import com.mongodb.BasicDBObject;
import com.mongodb.MongoClient;
import org.apache.camel.Exchange;
import org.apache.camel.Message;
import org.apache.camel.Processor;
import org.apache.camel.builder.RouteBuilder;
import org.apache.camel.component.mongodb.MongoDBTailTrackingEnum;
import org.apache.camel.main.Main;

import java.io.InputStream;

/**
 * For this to work you need to turn on the replica set
 * &lt;p&gt;
 * Commands to create a replica set:
 * &lt;p&gt;
 * rs.initiate( {
 * _id : "rs0",
 * members: [ { _id : 0, host : "localhost:27017" } ]
 * })
 */
public class MongoDbTracker {

    private final String database;

    private final String collection;

    private final String increasingField;

    private MongoDBTailTrackingEnum trackingStrategy;

    private int persistRecords = -1;

    private boolean persistenTailTracking;

    public MongoDbTracker(String database, String collection, String increasingField) {
        this.database = database;
        this.collection = collection;
        this.increasingField = increasingField;
    }

    public static void main(String[] args) throws Exception {
        final MongoDbTracker mongoDbTracker = new MongoDbTracker("local", "oplog.rs", "ts");
        mongoDbTracker.setTrackingStrategy(MongoDBTailTrackingEnum.TIMESTAMP);
        mongoDbTracker.setPersistRecords(5);
        mongoDbTracker.setPersistenTailTracking(true);
        mongoDbTracker.startRouter();
        // run until you terminate the JVM
        System.out.println("Starting Camel. Use ctrl + c to terminate the JVM.\n");

    }

    public void setTrackingStrategy(MongoDBTailTrackingEnum trackingStrategy) {
        this.trackingStrategy = trackingStrategy;
    }

    public void setPersistRecords(int persistRecords) {
        this.persistRecords = persistRecords;
    }

    public void setPersistenTailTracking(boolean persistenTailTracking) {
        this.persistenTailTracking = persistenTailTracking;
    }

    void startRouter() throws Exception {
        // create a Main instance
        Main main = new Main();
        main.bind(MongoConstants.CONN_NAME, new MongoClient("localhost", 27017));
        main.addRouteBuilder(new RouteBuilder() {
            @Override
            public void configure() throws Exception {
                getContext().getTypeConverterRegistry().addTypeConverter(InputStream.class, BasicDBObject.class,
                        new MongoToInputStreamConverter());
                from("mongodb://" + MongoConstants.CONN_NAME + "?database=" + database
                        + "&amp;collection=" + collection
                        + "&amp;persistentTailTracking=" + persistenTailTracking
                        + "&amp;persistentId=trackerName" + "&amp;tailTrackDb=local"
                        + "&amp;tailTrackCollection=talendTailTracking"
                        + "&amp;tailTrackField=lastTrackingValue"
                        + "&amp;tailTrackIncreasingField=" + increasingField
                        + "&amp;tailTrackingStrategy=" + trackingStrategy.toString()
                        + "&amp;persistRecords=" + persistRecords
                        + "&amp;cursorRegenerationDelay=1000")
                        .filter().jsonpath("$[?(@.ns=='optlog_test.customers')]")
                        .id("logger")
                        .to("log:logger?level=WARN")
                        .process(new Processor() {
                            public void process(Exchange exchange) throws Exception {
                                Message message = exchange.getIn();
                                System.out.println(message.getBody().toString());
                                exchange.getOut().setBody(message.getBody().toString());
                            }
                        });
            }
        });
        main.run();
    }
}</code></pre> </div> </div> </div> </div> </div> <div class="sect1"> <h2 id="_type_conversions"><a class="anchor" href="#_type_conversions"></a>Type conversions</h2> <div class="sectionbody"> <div class="paragraph"> <p>The <code>MongoDbBasicConverters</code> type converter included with the camel-mongodb component provides the following conversions:</p> </div> <div class="table-wrapper"><table class="tableblock frame-all grid-all stretch"> <colgroup> <col> <col> <col> <col> </colgroup> <thead> <tr> <th class="tableblock halign-left valign-top">Name</th> <th class="tableblock halign-left valign-top">From type</th> <th class="tableblock halign-left valign-top">To type</th> <th class="tableblock halign-left valign-top">How?</th> </tr> </thead> <tbody> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">fromMapToDBObject</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>Map</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>DBObject</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">constructs a new <code>BasicDBObject</code> via the <code>new BasicDBObject(Map m)</code> constructor</p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">fromBasicDBObjectToMap</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>BasicDBObject</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>Map</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>BasicDBObject</code> already implements <code>Map</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">fromStringToDBObject</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>DBObject</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">uses <code>com.mongodb.util.JSON.parse(String s)</code></p></td> </tr> <tr> <td class="tableblock halign-left valign-top"><p class="tableblock">fromAnyObjectToDBObject</p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>Object</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock"><code>DBObject</code></p></td> <td class="tableblock halign-left valign-top"><p class="tableblock">uses the <a href="http://jackson.codehaus.org/">Jackson library</a> to convert the object to a <code>Map</code>, which is in turn used to initialise a new <code>BasicDBObject</code></p></td> </tr> </tbody> </table></div> <div class="paragraph"> <p>This type converter is auto-discovered, so you don&#8217;t need to configure anything manually.</p> </div> </div> </div> </article> </main> </div> <footer> <div class="footer"> <figure class="logo"> <img src="../../_/img/logo-d.svg" class="logo-small mt-60" alt="Apache Camel Logo" aria-label="white silhouette of a camel in front of a sand dune"> </figure> <dl> <dt>Overview</dt> <dd><a href="../../blog/">Blog</a></dd> <dd><a href="../../components/latest/">Components</a></dd> <dd><a href="../../download/">Download</a></dd> <dd><a href="../../manual/latest/getting-started.html">Getting started</a></dd> <dd><a href="../../manual/latest/faq.html">FAQ</a></dd> </dl> <dl> <dt>Community</dt> <dd><a href="../../community/support/">Support</a></dd> <dd><a href="../../manual/latest/contributing.html">Contributing</a></dd> <dd><a href="../../community/user-stories/">User stories</a></dd> <dd><a href="../../community/articles/">Articles</a></dd> <dd><a href="../../community/books/">Books</a></dd> <dd><a href="../../community/team/">Team</a></dd> </dl> <dl> <dt>About</dt> <dd><a href="../../acknowledgments/">Acknowledgments</a> </dd><dd><a target="_blank" href="https://www.apache.org/events/current-event.html" title="Apache Events">Apache Events</a></dd> <dd><a target="_blank" href="https://www.apache.org/licenses/" title="License">License</a></dd> <dd><a target="_blank" href="https://www.apache.org/security/" title="Security">Security</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/sponsorship.html" title="Sponsorship">Sponsorship</a></dd> <dd><a target="_blank" href="https://www.apache.org/foundation/thanks.html" title="Thanks">Thanks</a></dd> </dl> <p> &copy; 2004-2020 The <a href="https://apache.org">Apache Software Foundation</a>.<br> Apache Camel, Camel, Apache, the Apache feather logo, and the Apache Camel project logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p> </div> </footer> <script src="../../_/js/site-f4f4dbc142.js"></script> <script async src="../../_/js/vendor/highlight-54157f17f1.js"></script> <script async src="../../_/js/vendor/svg4everybody-195d47ce7d.js"></script> <script type="application/ld+json"> {
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Apache Camel",
  "url": "https://camel.apache.org",
  "sameAs": [
     "https://twitter.com/ApacheCamel"
  ],
  "logo": "../../_/img/logo-d.svg",
  "description": "Apache Camel  is a versatile open-source integration framework based on known Enterprise Integration Patterns. Camel empowers you to define routing and mediation rules in a variety of domain-specific languages, including a Java-based Fluent API, Spring or Blueprint XML Configuration files, and a Scala DSL."
} </script> <script type="application/ld+json"> { 
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "name": "Apache Camel",
        "item": "https://camel.apache.org"
        },
        {
        "@type": "ListItem",
        "position": 2,
        "name": "Component reference",
        "item": "https://camel.apache.org/components/latest/index.html"
        },
        {
        "@type": "ListItem",
        "position": 3,
        "name": "MongoDB Component (deprecated)","item": "https://camel.apache.org/components/2.x/mongodb-component.html"}
        ]
    } </script> </body> </html> 