<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Traits :: Apache Camel</title><link rel="canonical" href="https://camel.apache.org/staging/camel-k/latest/traits.html"><meta name="generator" content="Antora 2.0.0"><link rel="stylesheet" href="../../_/css/site.css"></head><body class="article"><header class="header"><nav class="navbar shadow border-bottom"><div class="navbar-brand"><a class="navbar-item nav-logo" href="../.." title="Apache Camel"></a><button class="navbar-burger" data-target="topbar-nav"><span></span><span></span><span></span></button></div><div id="topbar-nav" class="navbar-menu"><div class="navbar-end"><a class="navbar-item" href="../../">Home</a><a class="navbar-item" href="../../news/">News</a><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="../..#">Projects</a><div class="navbar-dropdown"><a class="navbar-item" href="../../projects/camel-k/">Camel K</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="../..#">Documentation</a><div class="navbar-dropdown"><a class="navbar-item" href="../../docs/getting-started/">Getting started</a><a class="navbar-item" href="../../manual/latest/">User manual</a><a class="navbar-item" href="../../components/latest/">Component reference</a><a class="navbar-item" href="../../camel-k/latest/">Camel K</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="../..#">Community</a><div class="navbar-dropdown"><a class="navbar-item" href="../../community/support/">Support</a><a class="navbar-item" href="../..https://github.com/apache/camel/blob/master/CONTRIBUTING.md">Contributing</a><a class="navbar-item" href="../../community/user-stories/">User stories</a><a class="navbar-item" href="../../community/articles/">Articles</a><a class="navbar-item" href="../../community/books/">Books</a><a class="navbar-item" href="../../community/team/">Team</a><a class="navbar-item" href="../../community/camel-extra/">Camel extra</a></div></div><a class="navbar-item" href="../../download/">Download</a><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="../..#">About</a><div class="navbar-dropdown"><a class="navbar-item" href="../..https://www.apache.org/events/current-event.html">Apache events</a><a class="navbar-item" href="../..https://www.apache.org/licenses/">License</a><a class="navbar-item" href="../..https://www.apache.org/security/">Security</a><a class="navbar-item" href="../..https://www.apache.org/foundation/sponsorship.html">Sponsorship</a><a class="navbar-item" href="../..https://www.apache.org/foundation/thanks.html">Thanks</a></div></div></div></div></nav></header><div class="main-wrapper"><div class="navigation-container" data-component="camel-k" data-version="latest"><aside class="navigation"><div class="panels"><div class="navigation-menu is-active" data-panel="menu"><nav class="nav-menu"><h3 class="title"><a href="index.html">Apache Camel K</a></h3><ul class="nav-list"><li class="nav-item" data-depth="0"><ul class="nav-list"><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="installation/installation.html">Installation</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="installation/minikube.html">Minikube</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="installation/minishift.html">Minishift</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="installation/gke.html">Google Kubernetes Engine (GKE)</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="installation/openshift.html">OpenShift</a></li></ul></li><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="running/running.html">Running</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="running/dev-mode.html">Dev Mode</a></li></ul></li><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="configuration/configuration.html">Configuration</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="configuration/components.html">Components</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="configuration/logging.html">Logging</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="configuration/dependencies.html">Dependencies</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="configuration/configmap-secret.html">ConfigMap/Secret</a></li></ul></li><li class="nav-item" data-depth="1"><button class="nav-toggle"></button><a class="nav-link" href="languages/languages.html">Languages</a><ul class="nav-list"><li class="nav-item" data-depth="2"><a class="nav-link" href="languages/groovy.html">Groovy</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="languages/kotlin.html">Kotlin</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="languages/javascript.html">JavaScript</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="languages/java.html">Java</a></li><li class="nav-item" data-depth="2"><a class="nav-link" href="languages/xml.html">XML</a></li></ul></li><li class="nav-item is-current-page" data-depth="1"><a class="nav-link" href="traits.html">Traits</a></li><li class="nav-item" data-depth="1"><a class="nav-link" href="uninstalling.html">Uninstalling</a></li></ul></li></ul></nav></div><div class="navigation-explore" data-panel="explore"><div class="context"><span class="title">Apache Camel K</span><span class="version">latest</span></div><ul class="components"><li class="component is-current"><span class="title">Apache Camel K</span><ul class="versions"><li class="version is-current is-latest"><a href="index.html">latest</a></li></ul></li><li class="component"><span class="title">Component reference</span><ul class="versions"><li class="version is-latest"><a href="../../components/latest/index.html">latest</a></li></ul></li><li class="component"><span class="title">User manual</span><ul class="versions"><li class="version is-latest"><a href="../../manual/latest/index.html">latest</a></li></ul></li></ul></div></div></aside></div><main class="main"><div class="toolbar" role="navigation"><button class="navigation-toggle"></button><a href="../../manual/latest/index.html" class="home-link"></a><nav class="crumbs" aria-label="breadcrumbs"><ul><li class="crumb"><a href="index.html">Apache Camel K</a></li><li class="crumb"><a href="traits.html">Traits</a></li></ul></nav><div class="edit-this-page"><a href="https://github.com/apache/camel-k/edit/antora/docs/modules/ROOT/pages/traits.adoc">Edit this Page</a></div></div><article class="doc"><h1>Traits</h1><div id="preamble"><div class="sectionbody"><div class="paragraph"><p>Traits are high level named features of Camel K that can be enabled/disabled or configured to customize the behavior of the final integration.</p></div><div class="paragraph"><p>Camel K provide sensible defaults for all such traits, taking into account the details of the target platform where the integration is going to run into. However, it&#8217;s possible for a<strong>expert user</strong>to configure them in order to obtain a different behavior.</p></div></div></div><div class="sect1"><h2 id="_configuration"><a class="anchor" href="#_configuration"></a>Configuration</h2><div class="sectionbody"><div class="paragraph"><p>Each trait has a unique ID that can be used to configure it using the command line tool.</p></div><div class="paragraph"><p>E.g. in order to disable the creation of a Service for a integration, a user can execute:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code>kamel run --trait service.enabled=false file.groovy</code></pre></div></div><div class="paragraph"><p>The flag<code>--trait</code>can be also abbreviated with<code>-t</code>.</p></div><div class="paragraph"><p>The<code>enabled</code>property is available on all traits and can be used to enable/disable them. All traits have their own internal logic to determine if they need to be enabled when the user does not activate them explicitly.</p></div><div class="paragraph"><p>All traits share also a<code>auto</code>property that can be used to enable/disable auto-configuration of the trait based on the environment. The auto-configuration mechanism is able to enable/disable the trait when the<code>enabled</code>property is not explicitly set by the user and also change the trait configuration. The<code>auto</code>property is enabled by default.</p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">Some traits are applicable only to specific platforms (see "profiles" in the table).</td></tr></table></div><div class="paragraph"><p>A trait may have additional properties that can be configured by the end user.</p></div><div class="paragraph"><p>E.g. the following command configures the container<code>port</code>that should be exposed by the service:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code>kamel run --trait service.enabled=true --trait service.port=8081 file.groovy</code></pre></div></div><div class="paragraph"><p>Or the equivalent command (assuming that the service trait is enabled by auto-detection):</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code>kamel run -t service.port=8081 file.groovy</code></pre></div></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">Enabling a trait does not force the trait to be activated, especially if the trait specific preconditions do not hold. E.g. enabling the<code>route</code>trait while the<code>service</code>trait is disabled does not produce automatically a route, since a service is needed for the<code>route</code>trait to work.</td></tr></table></div></div></div><div class="sect1"><h2 id="_common_traits"><a class="anchor" href="#_common_traits"></a>Common Traits</h2><div class="sectionbody"><div class="paragraph"><p>The following is a list of common traits that can be configured by the end users:</p></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 16.6666%;"><col style="width: 33.3333%;"><col style="width: 50.0001%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Trait</th><th class="tableblock halign-left valign-top">Profiles</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>dependencies</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes, OpenShift</p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Automatically adds dependencies required by the Camel routes by inspecting the user code.<br><br>It&#8217;s enabled by default.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>deployment</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes, OpenShift</p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Creates a standard Kubernetes deployment for running the integration.<br><br>It&#8217;s enabled by default on vanilla Kubernetes/Openshift profiles.</p></div></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>knative</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Knative (Kubernetes, Openshift)</p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Creates Knative resources to run the integration instead of the standard Kubernetes resources.<br><br>It&#8217;s enabled by default when the Knative profile is active.</p></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>knative.sources</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Configures a (comma-separated) list of channels to which the Knative service must be subscribed (to receive cloudevents from a channel).</p></td></tr></tbody></table></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>istio</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Knative (Kubernetes, Openshift)</p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Allows to configure outbound traffic for Istio.<br><br>It&#8217;s enabled by default when the Knative profile is active.</p></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>istio.allow</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Configures a (comma-separated) list of CIDR subnets that should not be intercepted by the Istio proxy (<code>10.0.0.0/8,172.16.0.0/12,192.168.0.0/16</code>by default).</p></td></tr></tbody></table></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>service</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">All (Knative in deployment mode)</p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Exposes the integration with a Service resource so that it can be accessed by other applications (or integrations) in the same namespace.<br><br>It&#8217;s enabled by default if the integration depends on a Camel component that can expose a HTTP endpoint.</p></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>service.port</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To configure a different port exposed by the container (default<code>8080</code>).</p></td></tr></tbody></table></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>route</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">OpenShift</p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Exposes the service associated with the integration to the outside world with a OpenShift Route.<br><br>It&#8217;s enabled by default whenever a Service is added to the integration (through the<code>service</code>trait).</p></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>route.host</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">To configure the host exposed by the route.</p></td></tr></tbody></table></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>ingress</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes</p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Exposes the service associated with the integration to the outside world with a Kubernetes Ingress.<br><br>It&#8217;s enabled by default whenever a Service is added to the integration (through the<code>service</code>trait).</p></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 50%;"><col style="width: 50%;"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>ingress.host</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Required</strong>. To configure the host exposed by the ingress.</p></td></tr></tbody></table></div></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>debug</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td><td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph"><p>Run the integration in debug mode (you can port-forward to port 5005 to connect)<br><br>It&#8217;s disabled by default.</p></div></div></td></tr></tbody></table></div></div><div class="sect1"><h2 id="_platform_traits_advanced"><a class="anchor" href="#_platform_traits_advanced"></a>Platform Traits (Advanced)</h2><div class="sectionbody"><div class="paragraph"><p>There are also platform traits that<strong>normally should not be configured</strong>by the end user. So change them<strong>only if you know what you&#8217;re doing</strong>.</p></div><table class="tableblock frame-all grid-all stretch"><colgroup><col style="width: 33.3333%;"><col style="width: 33.3333%;"><col style="width: 33.3334%;"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Trait</th><th class="tableblock halign-left valign-top">Profiles</th><th class="tableblock halign-left valign-top">Description</th></tr></thead><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>owner</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Kubernetes, OpenShift</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Makes sure that every resource created by the traits belongs to the integration custom resource (so they are deleted when the integration is deleted).</p></td></tr></tbody></table></div></div></article></main></div><footer class="footer"><p>This page was built using the Antora default UI.</p><p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p></footer><script src="../../_/js/site.js"></script><script src="../../_/js/vendor/highlight.js"></script><script>hljs.initHighlighting()</script></body></html>